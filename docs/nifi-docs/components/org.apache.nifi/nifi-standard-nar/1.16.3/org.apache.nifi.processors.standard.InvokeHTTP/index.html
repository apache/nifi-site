<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"></meta><title>InvokeHTTP</title><link rel="stylesheet" href="../../../../../css/component-usage.css" type="text/css"></link></head><script type="text/javascript">window.onload = function(){if(self==top) { document.getElementById('nameHeader').style.display = "inherit"; } }</script><body><h1 id="nameHeader" style="display: none;">InvokeHTTP</h1><h2>Description: </h2><p>An HTTP client processor which can interact with a configurable HTTP Endpoint. The destination URL and HTTP Method are configurable. FlowFile attributes are converted to HTTP headers and the FlowFile contents are included as the body of the request (if the HTTP Method is PUT, POST or PATCH).</p><h3>Tags: </h3><p>http, https, rest, client</p><h3>Properties: </h3><p>In the list below, the names of required properties appear in <strong>bold</strong>. Any other properties (not in bold) are considered optional. The table also indicates any default values, whether a property supports the <a href="../../../../../html/expression-language-guide.html">NiFi Expression Language</a>, and whether a property is considered "sensitive", meaning that its value will be encrypted. Before entering a value in a sensitive property, ensure that the <strong>nifi.properties</strong> file has an entry for the property <strong>nifi.sensitive.props.key</strong>.</p><table id="properties"><tr><th>Name</th><th>Default Value</th><th>Allowable Values</th><th>Description</th></tr><tr><td id="name"><strong>HTTP Method</strong></td><td id="default-value">GET</td><td id="allowable-values"></td><td id="description">HTTP request method (GET, POST, PUT, PATCH, DELETE, HEAD, OPTIONS). Arbitrary methods are also supported. Methods other than POST, PUT and PATCH will be sent without a message body.<br/><strong>Supports Expression Language: true (will be evaluated using flow file attributes and variable registry)</strong></td></tr><tr><td id="name"><strong>Remote URL</strong></td><td></td><td id="allowable-values"></td><td id="description">Remote URL which will be connected to, including scheme, host, port, path.<br/><strong>Supports Expression Language: true (will be evaluated using flow file attributes and variable registry)</strong></td></tr><tr><td id="name">SSL Context Service</td><td></td><td id="allowable-values"><strong>Controller Service API: </strong><br/>SSLContextService<br/><strong>Implementations: </strong><a href="../../../nifi-ssl-context-service-nar/1.16.3/org.apache.nifi.ssl.StandardRestrictedSSLContextService/index.html">StandardRestrictedSSLContextService</a><br/><a href="../../../nifi-ssl-context-service-nar/1.16.3/org.apache.nifi.ssl.StandardSSLContextService/index.html">StandardSSLContextService</a></td><td id="description">The SSL Context Service used to provide client certificate information for TLS/SSL (https) connections. It is also used to connect to HTTPS Proxy.</td></tr><tr><td id="name"><strong>Connection Timeout</strong></td><td id="default-value">5 secs</td><td id="allowable-values"></td><td id="description">Max wait time for connection to remote service.</td></tr><tr><td id="name"><strong>Read Timeout</strong></td><td id="default-value">15 secs</td><td id="allowable-values"></td><td id="description">Max wait time for response from remote service.</td></tr><tr><td id="name"><strong>Idle Timeout</strong></td><td id="default-value">5 mins</td><td id="allowable-values"></td><td id="description">Max idle time before closing connection to the remote service.</td></tr><tr><td id="name"><strong>Max Idle Connections</strong></td><td id="default-value">5</td><td id="allowable-values"></td><td id="description">Max number of idle connections to keep open.</td></tr><tr><td id="name"><strong>Include Date Header</strong></td><td id="default-value">True</td><td id="allowable-values"><ul><li>True</li><li>False</li></ul></td><td id="description">Include an RFC-2616 Date header in the request.</td></tr><tr><td id="name"><strong>Follow Redirects</strong></td><td id="default-value">True</td><td id="allowable-values"><ul><li>True</li><li>False</li></ul></td><td id="description">Follow HTTP redirects issued by remote server.</td></tr><tr><td id="name"><strong>Cookie Strategy</strong></td><td id="default-value">DISABLED</td><td id="allowable-values"><ul><li>DISABLED</li><li>ACCEPT_ALL</li></ul></td><td id="description">Strategy for accepting and persisting HTTP cookies. Accepting cookies enables persistence across multiple requests.</td></tr><tr><td id="name"><strong>Disable HTTP/2</strong></td><td id="default-value">False</td><td id="allowable-values"><ul><li>True</li><li>False</li></ul></td><td id="description">Determines whether or not to disable use of the HTTP/2 protocol version. If disabled, only HTTP/1.1 is supported.</td></tr><tr><td id="name"><strong>FlowFile Naming Strategy</strong></td><td id="default-value">RANDOM</td><td id="allowable-values"><ul><li>RANDOM <img src="../../../../../html/images/iconInfo.png" alt="FlowFile filename attribute will be a random value." title="FlowFile filename attribute will be a random value."></img></li><li>URL_PATH <img src="../../../../../html/images/iconInfo.png" alt="FlowFile filename attribute will be extracted from the remote URL path. The attribute may contain URL encoded characters. If the path doesn't exist, the attribute will be a random value." title="FlowFile filename attribute will be extracted from the remote URL path. The attribute may contain URL encoded characters. If the path doesn't exist, the attribute will be a random value."></img></li></ul></td><td id="description">Determines the strategy used for setting the filename attribute of the FlowFile.</td></tr><tr><td id="name">Attributes to Send</td><td></td><td id="allowable-values"></td><td id="description">Regular expression that defines which attributes to send as HTTP headers in the request. If not defined, no attributes are sent as headers. Also any dynamic properties set will be sent as headers. The dynamic property key will be the header key and the dynamic property value will be interpreted as expression language will be the header value.</td></tr><tr><td id="name">Useragent</td><td></td><td id="allowable-values"></td><td id="description">The Useragent identifier sent along with each request<br/><strong>Supports Expression Language: true (will be evaluated using flow file attributes and variable registry)</strong></td></tr><tr><td id="name">Basic Authentication Username</td><td></td><td id="allowable-values"></td><td id="description">The username to be used by the client to authenticate against the Remote URL.  Cannot include control characters (0-31), ':', or DEL (127).</td></tr><tr><td id="name">Basic Authentication Password</td><td></td><td id="allowable-values"></td><td id="description">The password to be used by the client to authenticate against the Remote URL.<br/><strong>Sensitive Property: true</strong></td></tr><tr><td id="name">OAuth2 Access Token provider</td><td></td><td id="allowable-values"><strong>Controller Service API: </strong><br/>OAuth2AccessTokenProvider<br/><strong>Implementation: </strong><a href="../../../nifi-oauth2-provider-nar/1.16.3/org.apache.nifi.oauth2.StandardOauth2AccessTokenProvider/index.html">StandardOauth2AccessTokenProvider</a></td><td id="description">No Description Provided.</td></tr><tr><td id="name">Proxy Configuration Service</td><td></td><td id="allowable-values"><strong>Controller Service API: </strong><br/>ProxyConfigurationService<br/><strong>Implementation: </strong><a href="../../../nifi-proxy-configuration-nar/1.16.3/org.apache.nifi.proxy.StandardProxyConfigurationService/index.html">StandardProxyConfigurationService</a></td><td id="description">Specifies the Proxy Configuration Controller Service to proxy network requests. If set, it supersedes proxy settings configured per component. Supported proxies: HTTP + AuthN, SOCKS</td></tr><tr><td id="name">Proxy Host</td><td></td><td id="allowable-values"></td><td id="description">The fully qualified hostname or IP address of the proxy server<br/><strong>Supports Expression Language: true (will be evaluated using variable registry only)</strong></td></tr><tr><td id="name">Proxy Port</td><td></td><td id="allowable-values"></td><td id="description">The port of the proxy server<br/><strong>Supports Expression Language: true (will be evaluated using variable registry only)</strong></td></tr><tr><td id="name">Proxy Type</td><td id="default-value">http</td><td id="allowable-values"></td><td id="description">The type of the proxy we are connecting to. Must be either http or https<br/><strong>Supports Expression Language: true (will be evaluated using variable registry only)</strong></td></tr><tr><td id="name">Proxy Username</td><td></td><td id="allowable-values"></td><td id="description">Username to set when authenticating against proxy<br/><strong>Supports Expression Language: true (will be evaluated using variable registry only)</strong></td></tr><tr><td id="name">Proxy Password</td><td></td><td id="allowable-values"></td><td id="description">Password to set when authenticating against proxy<br/><strong>Sensitive Property: true</strong><br/><strong>Supports Expression Language: true (will be evaluated using variable registry only)</strong></td></tr><tr><td id="name">Put Response Body In Attribute</td><td></td><td id="allowable-values"></td><td id="description">If set, the response body received back will be put into an attribute of the original FlowFile instead of a separate FlowFile. The attribute key to put to is determined by evaluating value of this property. <br/><strong>Supports Expression Language: true (will be evaluated using flow file attributes and variable registry)</strong></td></tr><tr><td id="name">Max Length To Put In Attribute</td><td id="default-value">256</td><td id="allowable-values"></td><td id="description">If routing the response body to an attribute of the original (by setting the "Put response body in attribute" property or by receiving an error status code), the number of characters put to the attribute value will be at most this amount. This is important because attributes are held in memory and large attributes will quickly cause out of memory issues. If the output goes longer than this value, it will be truncated to fit. Consider making this smaller if able.</td></tr><tr><td id="name">Use Digest Authentication</td><td id="default-value">false</td><td id="allowable-values"><ul><li>true</li><li>false</li></ul></td><td id="description">Whether to communicate with the website using Digest Authentication. 'Basic Authentication Username' and 'Basic Authentication Password' are used for authentication.</td></tr><tr><td id="name">Always Output Response</td><td id="default-value">false</td><td id="allowable-values"><ul><li>true</li><li>false</li></ul></td><td id="description">Will force a response FlowFile to be generated and routed to the 'Response' relationship regardless of what the server status code received is or if the processor is configured to put the server response body in the request attribute. In the later configuration a request FlowFile with the response body in the attribute and a typical response FlowFile will be emitted to their respective relationships.</td></tr><tr><td id="name">Add Response Headers to Request</td><td id="default-value">false</td><td id="allowable-values"><ul><li>true</li><li>false</li></ul></td><td id="description">Enabling this property saves all the response headers to the original request. This may be when the response headers are needed but a response is not generated due to the status code received.</td></tr><tr><td id="name"><strong>Content-Type</strong></td><td id="default-value">${mime.type}</td><td id="allowable-values"></td><td id="description">The Content-Type to specify for when content is being transmitted through a PUT, POST or PATCH. In the case of an empty value after evaluating an expression language expression, Content-Type defaults to application/octet-stream<br/><strong>Supports Expression Language: true (will be evaluated using flow file attributes and variable registry)</strong></td></tr><tr><td id="name">Send Message Body</td><td id="default-value">true</td><td id="allowable-values"><ul><li>true</li><li>false</li></ul></td><td id="description">If true, sends the HTTP message body on POST/PUT/PATCH requests (default).  If false, suppresses the message body and content-type header for these requests.</td></tr><tr><td id="name"><strong>Use Chunked Encoding</strong></td><td id="default-value">false</td><td id="allowable-values"><ul><li>true</li><li>false</li></ul></td><td id="description">When POST'ing, PUT'ing or PATCH'ing content set this property to true in order to not pass the 'Content-length' header and instead send 'Transfer-Encoding' with a value of 'chunked'. This will enable the data transfer mechanism which was introduced in HTTP 1.1 to pass data of unknown lengths in chunks.</td></tr><tr><td id="name">Penalize on "No Retry"</td><td id="default-value">false</td><td id="allowable-values"><ul><li>true</li><li>false</li></ul></td><td id="description">Enabling this property will penalize FlowFiles that are routed to the "No Retry" relationship.</td></tr><tr><td id="name"><strong>Use HTTP ETag</strong></td><td id="default-value">false</td><td id="allowable-values"><ul><li>true</li><li>false</li></ul></td><td id="description">Enable HTTP entity tag (ETag) support for HTTP requests.</td></tr><tr><td id="name"><strong>Maximum ETag Cache Size</strong></td><td id="default-value">10MB</td><td id="allowable-values"></td><td id="description">The maximum size that the ETag cache should be allowed to grow to. The default size is 10MB.</td></tr><tr><td id="name"><strong>Ignore response's content</strong></td><td id="default-value">false</td><td id="allowable-values"><ul><li>true</li><li>false</li></ul></td><td id="description">If true, the processor will not write the response's content into the flow file.</td></tr><tr><td id="name">FlowFile Form Data Name</td><td></td><td id="allowable-values"></td><td id="description">When Send Message Body is true, and FlowFile Form Data Name is set,  the FlowFile will be sent as the message body in multipart/form format with this value as the form data name.<br/><strong>Supports Expression Language: true (will be evaluated using flow file attributes and variable registry)</strong></td></tr><tr><td id="name">Set FlowFile Form Data File Name</td><td id="default-value">true</td><td id="allowable-values"><ul><li>true</li><li>false</li></ul></td><td id="description">When Send Message Body is true, FlowFile Form Data Name is set, and Set FlowFile Form Data File Name is true, the FlowFile's fileName value will be set as the filename property of the form data.</td></tr></table><h3>Dynamic Properties: </h3><p>Dynamic Properties allow the user to specify both the name and value of a property.<table id="dynamic-properties"><tr><th>Name</th><th>Value</th><th>Description</th></tr><tr><td id="name">Header Name</td><td id="value">Attribute Expression Language</td><td>Send request header with a key matching the Dynamic Property Key and a value created by evaluating the Attribute Expression Language set in the value of the Dynamic Property.<br/><strong>Supports Expression Language: true (will be evaluated using flow file attributes and variable registry)</strong></td></tr><tr><td id="name">post:form:&lt;NAME&gt;</td><td id="value">Attribute Expression Language</td><td>When the HTTP Method is POST, dynamic properties with the property name in the form of post:form:&lt;NAME&gt;, where the &lt;NAME&gt; will be the form data name, will be used to fill out the multipart form parts.  If send message body is false, the flowfile will not be sent, but any other form data will be.<br/><strong>Supports Expression Language: true (will be evaluated using flow file attributes and variable registry)</strong></td></tr></table></p><h3>Relationships: </h3><table id="relationships"><tr><th>Name</th><th>Description</th></tr><tr><td>Original</td><td>The original FlowFile will be routed upon success (2xx status codes). It will have new attributes detailing the success of the request.</td></tr><tr><td>Failure</td><td>The original FlowFile will be routed on any type of connection failure, timeout or general exception. It will have new attributes detailing the request.</td></tr><tr><td>Retry</td><td>The original FlowFile will be routed on any status code that can be retried (5xx status codes). It will have new attributes detailing the request.</td></tr><tr><td>No Retry</td><td>The original FlowFile will be routed on any status code that should NOT be retried (1xx, 3xx, 4xx status codes).  It will have new attributes detailing the request.</td></tr><tr><td>Response</td><td>A Response FlowFile will be routed upon success (2xx status codes). If the 'Output Response Regardless' property is true then the response will be sent to this relationship regardless of the status code received.</td></tr></table><h3>Reads Attributes: </h3>None specified.<h3>Writes Attributes: </h3><table id="writes-attributes"><tr><th>Name</th><th>Description</th></tr><tr><td>invokehttp.status.code</td><td>The status code that is returned</td></tr><tr><td>invokehttp.status.message</td><td>The status message that is returned</td></tr><tr><td>invokehttp.response.body</td><td>In the instance where the status code received is not a success (2xx) then the response body will be put to the 'invokehttp.response.body' attribute of the request FlowFile.</td></tr><tr><td>invokehttp.request.url</td><td>The original request URL</td></tr><tr><td>invokehttp.request.duration</td><td>Duration (in milliseconds) of the HTTP call to the external endpoint</td></tr><tr><td>invokehttp.response.url</td><td>The URL that was ultimately requested after any redirects were followed</td></tr><tr><td>invokehttp.tx.id</td><td>The transaction ID that is returned after reading the response</td></tr><tr><td>invokehttp.remote.dn</td><td>The DN of the remote server</td></tr><tr><td>invokehttp.java.exception.class</td><td>The Java exception class raised when the processor fails</td></tr><tr><td>invokehttp.java.exception.message</td><td>The Java exception message raised when the processor fails</td></tr><tr><td>user-defined</td><td>If the 'Put Response Body In Attribute' property is set then whatever it is set to will become the attribute key and the value would be the body of the HTTP response.</td></tr></table><h3>State management: </h3>This component does not store state.<h3>Restricted: </h3>This component is not restricted.<h3>Input requirement: </h3>This component allows an incoming relationship.<h3>System Resource Considerations:</h3>None specified.</body></html>