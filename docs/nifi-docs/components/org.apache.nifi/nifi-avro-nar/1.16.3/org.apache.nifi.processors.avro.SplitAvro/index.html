<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"></meta><title>SplitAvro</title><link rel="stylesheet" href="../../../../../css/component-usage.css" type="text/css"></link></head><script type="text/javascript">window.onload = function(){if(self==top) { document.getElementById('nameHeader').style.display = "inherit"; } }</script><body><h1 id="nameHeader" style="display: none;">SplitAvro</h1><h2>Description: </h2><p>Splits a binary encoded Avro datafile into smaller files based on the configured Output Size. The Output Strategy determines if the smaller files will be Avro datafiles, or bare Avro records with metadata in the FlowFile attributes. The output will always be binary encoded.</p><h3>Tags: </h3><p>avro, split</p><h3>Properties: </h3><p>In the list below, the names of required properties appear in <strong>bold</strong>. Any other properties (not in bold) are considered optional. The table also indicates any default values.</p><table id="properties"><tr><th>Name</th><th>Default Value</th><th>Allowable Values</th><th>Description</th></tr><tr><td id="name"><strong>Split Strategy</strong></td><td id="default-value">Record</td><td id="allowable-values"><ul><li>Record <img src="../../../../../html/images/iconInfo.png" alt="Split at Record boundaries" title="Split at Record boundaries"></img></li></ul></td><td id="description">The strategy for splitting the incoming datafile. The Record strategy will read the incoming datafile by de-serializing each record.</td></tr><tr><td id="name"><strong>Output Size</strong></td><td id="default-value">1</td><td id="allowable-values"></td><td id="description">The number of Avro records to include per split file. In cases where the incoming file has less records than the Output Size, or when the total number of records does not divide evenly by the Output Size, it is possible to get a split file with less records.</td></tr><tr><td id="name"><strong>Output Strategy</strong></td><td id="default-value">Datafile</td><td id="allowable-values"><ul><li>Datafile <img src="../../../../../html/images/iconInfo.png" alt="Avro's object container file format" title="Avro's object container file format"></img></li><li>Bare Record <img src="../../../../../html/images/iconInfo.png" alt="Bare Avro records" title="Bare Avro records"></img></li></ul></td><td id="description">Determines the format of the output. Either Avro Datafile, or bare record. Bare record output is only intended for use with systems that already require it, and shouldn't be needed for normal use.</td></tr><tr><td id="name"><strong>Transfer Metadata</strong></td><td id="default-value">true</td><td id="allowable-values"><ul><li>true</li><li>false</li></ul></td><td id="description">Whether or not to transfer metadata from the parent datafile to the children. If the Output Strategy is Bare Record, then the metadata will be stored as FlowFile attributes, otherwise it will be in the Datafile header.</td></tr></table><h3>Relationships: </h3><table id="relationships"><tr><th>Name</th><th>Description</th></tr><tr><td>failure</td><td>If a FlowFile fails processing for any reason (for example, the FlowFile is not valid Avro), it will be routed to this relationship</td></tr><tr><td>original</td><td>The original FlowFile that was split. If the FlowFile fails processing, nothing will be sent to this relationship</td></tr><tr><td>split</td><td>All new files split from the original FlowFile will be routed to this relationship</td></tr></table><h3>Reads Attributes: </h3>None specified.<h3>Writes Attributes: </h3><table id="writes-attributes"><tr><th>Name</th><th>Description</th></tr><tr><td>fragment.identifier</td><td>All split FlowFiles produced from the same parent FlowFile will have the same randomly generated UUID added for this attribute</td></tr><tr><td>fragment.index</td><td>A one-up number that indicates the ordering of the split FlowFiles that were created from a single parent FlowFile</td></tr><tr><td>fragment.count</td><td>The number of split FlowFiles generated from the parent FlowFile</td></tr><tr><td>segment.original.filename </td><td>The filename of the parent FlowFile</td></tr></table><h3>State management: </h3>This component does not store state.<h3>Restricted: </h3>This component is not restricted.<h3>Input requirement: </h3>This component requires an incoming relationship.<h3>System Resource Considerations:</h3><table id="system-resource-considerations"><tr><th>Resource</th><th>Description</th></tr><tr><td>MEMORY</td><td>An instance of this component can cause high usage of this system resource.  Multiple instances or high concurrency settings may result a degradation of performance.</td></tr></table></body></html>