<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"></meta><title>CSVRecordSetWriter</title><link rel="stylesheet" href="../../../../../css/component-usage.css" type="text/css"></link></head><script type="text/javascript">window.onload = function(){if(self==top) { document.getElementById('nameHeader').style.display = "inherit"; } }</script><body><h1 id="nameHeader" style="display: none;">CSVRecordSetWriter</h1><h2>Description: </h2><p>Writes the contents of a RecordSet as CSV data. The first line written will be the column names (unless the 'Include Header Line' property is false). All subsequent lines will be the values corresponding to the record fields.</p><h3>Tags: </h3><p>csv, result, set, recordset, record, writer, serializer, row, tsv, tab, separated, delimited</p><h3>Properties: </h3><p>In the list below, the names of required properties appear in <strong>bold</strong>. Any other properties (not in bold) are considered optional. The table also indicates any default values, and whether a property supports the <a href="../../../../../html/expression-language-guide.html">NiFi Expression Language</a>.</p><table id="properties"><tr><th>Display Name</th><th>API Name</th><th>Default Value</th><th>Allowable Values</th><th>Description</th></tr><tr><td id="name"><strong>Schema Write Strategy</strong></td><td>Schema Write Strategy</td><td id="default-value">Do Not Write Schema</td><td id="allowable-values"><ul><li>Do Not Write Schema <img src="../../../../../html/images/iconInfo.png" alt="Do not add any schema-related information to the FlowFile." title="Do not add any schema-related information to the FlowFile."></img></li><li>Set 'schema.name' Attribute <img src="../../../../../html/images/iconInfo.png" alt="The FlowFile will be given an attribute named 'schema.name' and this attribute will indicate the name of the schema in the Schema Registry. Note that ifthe schema for a record is not obtained from a Schema Registry, then no attribute will be added." title="The FlowFile will be given an attribute named 'schema.name' and this attribute will indicate the name of the schema in the Schema Registry. Note that ifthe schema for a record is not obtained from a Schema Registry, then no attribute will be added."></img></li><li>Set 'avro.schema' Attribute <img src="../../../../../html/images/iconInfo.png" alt="The FlowFile will be given an attribute named 'avro.schema' and this attribute will contain the Avro Schema that describes the records in the FlowFile. The contents of the FlowFile need not be Avro, but the text of the schema will be used." title="The FlowFile will be given an attribute named 'avro.schema' and this attribute will contain the Avro Schema that describes the records in the FlowFile. The contents of the FlowFile need not be Avro, but the text of the schema will be used."></img></li><li>HWX Schema Reference Attributes <img src="../../../../../html/images/iconInfo.png" alt="The FlowFile will be given a set of 3 attributes to describe the schema: 'schema.identifier', 'schema.version', and 'schema.protocol.version'. Note that if the schema for a record does not contain the necessary identifier and version, an Exception will be thrown when attempting to write the data." title="The FlowFile will be given a set of 3 attributes to describe the schema: 'schema.identifier', 'schema.version', and 'schema.protocol.version'. Note that if the schema for a record does not contain the necessary identifier and version, an Exception will be thrown when attempting to write the data."></img></li><li>HWX Content-Encoded Schema Reference <img src="../../../../../html/images/iconInfo.png" alt="The content of the FlowFile will contain a reference to a schema in the Schema Registry service. The reference is encoded as a single byte indicating the 'protocol version', followed by 8 bytes indicating the schema identifier, and finally 4 bytes indicating the schema version, as per the Hortonworks Schema Registry serializers and deserializers, as found at https://github.com/hortonworks/registry. This will be prepended to each FlowFile. Note that if the schema for a record does not contain the necessary identifier and version, an Exception will be thrown when attempting to write the data." title="The content of the FlowFile will contain a reference to a schema in the Schema Registry service. The reference is encoded as a single byte indicating the 'protocol version', followed by 8 bytes indicating the schema identifier, and finally 4 bytes indicating the schema version, as per the Hortonworks Schema Registry serializers and deserializers, as found at https://github.com/hortonworks/registry. This will be prepended to each FlowFile. Note that if the schema for a record does not contain the necessary identifier and version, an Exception will be thrown when attempting to write the data."></img></li><li>Confluent Schema Registry Reference <img src="../../../../../html/images/iconInfo.png" alt="The content of the FlowFile will contain a reference to a schema in the Schema Registry service. The reference is encoded as a single 'Magic Byte' followed by 4 bytes representing the identifier of the schema, as outlined at http://docs.confluent.io/current/schema-registry/docs/serializer-formatter.html. This will be prepended to each FlowFile. Note that if the schema for a record does not contain the necessary identifier and version, an Exception will be thrown when attempting to write the data. This is based on the encoding used by version 3.2.x of the Confluent Schema Registry." title="The content of the FlowFile will contain a reference to a schema in the Schema Registry service. The reference is encoded as a single 'Magic Byte' followed by 4 bytes representing the identifier of the schema, as outlined at http://docs.confluent.io/current/schema-registry/docs/serializer-formatter.html. This will be prepended to each FlowFile. Note that if the schema for a record does not contain the necessary identifier and version, an Exception will be thrown when attempting to write the data. This is based on the encoding used by version 3.2.x of the Confluent Schema Registry."></img></li></ul></td><td id="description">Specifies how the schema for a Record should be added to the data.</td></tr><tr><td id="name">Schema Cache</td><td>schema-cache</td><td></td><td id="allowable-values"><strong>Controller Service API: </strong><br/>RecordSchemaCacheService<br/><strong>Implementation: </strong><a href="../org.apache.nifi.schema.inference.VolatileSchemaCache/index.html">VolatileSchemaCache</a></td><td id="description">Specifies a Schema Cache to add the Record Schema to so that Record Readers can quickly lookup the schema.</td></tr><tr><td id="name">Schema Protocol Version</td><td>schema-protocol-version</td><td id="default-value">1</td><td id="allowable-values"></td><td id="description">The protocol version to be used for Schema Write Strategies that require a protocol version, such as Hortonworks Schema Registry strategies. Valid protocol versions for Hortonworks Schema Registry are integer values 1, 2, or 3.<br/><strong>Supports Expression Language: true (will be evaluated using flow file attributes and variable registry)</strong><br/><br/><strong>This Property is only considered if </strong><strong>the [Schema Write Strategy] Property is set to one of the following values: [HWX Schema Reference Attributes], [HWX Content-Encoded Schema Reference]</strong></td></tr><tr><td id="name"><strong>Schema Access Strategy</strong></td><td>schema-access-strategy</td><td id="default-value">Inherit Record Schema</td><td id="allowable-values"><ul><li>Inherit Record Schema <img src="../../../../../html/images/iconInfo.png" alt="The schema used to write records will be the same schema that was given to the Record when the Record was created." title="The schema used to write records will be the same schema that was given to the Record when the Record was created."></img></li><li>Use 'Schema Name' Property <img src="../../../../../html/images/iconInfo.png" alt="The name of the Schema to use is specified by the 'Schema Name' Property. The value of this property is used to lookup the Schema in the configured Schema Registry service." title="The name of the Schema to use is specified by the 'Schema Name' Property. The value of this property is used to lookup the Schema in the configured Schema Registry service."></img></li><li>Use 'Schema Text' Property <img src="../../../../../html/images/iconInfo.png" alt="The text of the Schema itself is specified by the 'Schema Text' Property. The value of this property must be a valid Avro Schema. If Expression Language is used, the value of the 'Schema Text' property must be valid after substituting the expressions." title="The text of the Schema itself is specified by the 'Schema Text' Property. The value of this property must be a valid Avro Schema. If Expression Language is used, the value of the 'Schema Text' property must be valid after substituting the expressions."></img></li></ul></td><td id="description">Specifies how to obtain the schema that is to be used for interpreting the data.</td></tr><tr><td id="name">Schema Registry</td><td>schema-registry</td><td></td><td id="allowable-values"><strong>Controller Service API: </strong><br/>SchemaRegistry<br/><strong>Implementations: </strong><a href="../../../nifi-confluent-platform-nar/1.24.0/org.apache.nifi.confluent.schemaregistry.ConfluentSchemaRegistry/index.html">ConfluentSchemaRegistry</a><br/><a href="../../../nifi-aws-nar/1.24.0/org.apache.nifi.aws.schemaregistry.AmazonGlueSchemaRegistry/index.html">AmazonGlueSchemaRegistry</a><br/><a href="../../../nifi-registry-nar/1.24.0/org.apache.nifi.schemaregistry.services.AvroSchemaRegistry/index.html">AvroSchemaRegistry</a><br/><a href="../../../nifi-hwx-schema-registry-nar/1.24.0/org.apache.nifi.schemaregistry.hortonworks.HortonworksSchemaRegistry/index.html">HortonworksSchemaRegistry</a></td><td id="description">Specifies the Controller Service to use for the Schema Registry<br/><br/><strong>This Property is only considered if </strong><strong>the [Schema Access Strategy] Property is set to one of the following values: [Use 'Schema Name' Property]</strong></td></tr><tr><td id="name">Schema Name</td><td>schema-name</td><td id="default-value">${schema.name}</td><td id="allowable-values"></td><td id="description">Specifies the name of the schema to lookup in the Schema Registry property<br/><strong>Supports Expression Language: true (will be evaluated using flow file attributes and variable registry)</strong><br/><br/><strong>This Property is only considered if </strong><strong>the [Schema Access Strategy] Property has a value of "Use 'Schema Name' Property".</strong></td></tr><tr><td id="name">Schema Version</td><td>schema-version</td><td></td><td id="allowable-values"></td><td id="description">Specifies the version of the schema to lookup in the Schema Registry. If not specified then the latest version of the schema will be retrieved.<br/><strong>Supports Expression Language: true (will be evaluated using flow file attributes and variable registry)</strong><br/><br/><strong>This Property is only considered if </strong><strong>the [Schema Access Strategy] Property has a value of "Use 'Schema Name' Property".</strong></td></tr><tr><td id="name">Schema Branch</td><td>schema-branch</td><td></td><td id="allowable-values"></td><td id="description">Specifies the name of the branch to use when looking up the schema in the Schema Registry property. If the chosen Schema Registry does not support branching, this value will be ignored.<br/><strong>Supports Expression Language: true (will be evaluated using flow file attributes and variable registry)</strong><br/><br/><strong>This Property is only considered if </strong><strong>the [Schema Access Strategy] Property has a value of "Use 'Schema Name' Property".</strong></td></tr><tr><td id="name">Schema Text</td><td>schema-text</td><td id="default-value">${avro.schema}</td><td id="allowable-values"></td><td id="description">The text of an Avro-formatted Schema<br/><strong>Supports Expression Language: true (will be evaluated using flow file attributes and variable registry)</strong><br/><br/><strong>This Property is only considered if </strong><strong>the [Schema Access Strategy] Property has a value of "Use 'Schema Text' Property".</strong></td></tr><tr><td id="name">Date Format</td><td>Date Format</td><td></td><td id="allowable-values"></td><td id="description">Specifies the format to use when reading/writing Date fields. If not specified, Date fields will be assumed to be number of milliseconds since epoch (Midnight, Jan 1, 1970 GMT). If specified, the value must match the Java Simple Date Format (for example, MM/dd/yyyy for a two-digit month, followed by a two-digit day, followed by a four-digit year, all separated by '/' characters, as in 01/01/2017).</td></tr><tr><td id="name">Time Format</td><td>Time Format</td><td></td><td id="allowable-values"></td><td id="description">Specifies the format to use when reading/writing Time fields. If not specified, Time fields will be assumed to be number of milliseconds since epoch (Midnight, Jan 1, 1970 GMT). If specified, the value must match the Java Simple Date Format (for example, HH:mm:ss for a two-digit hour in 24-hour format, followed by a two-digit minute, followed by a two-digit second, all separated by ':' characters, as in 18:04:15).</td></tr><tr><td id="name">Timestamp Format</td><td>Timestamp Format</td><td></td><td id="allowable-values"></td><td id="description">Specifies the format to use when reading/writing Timestamp fields. If not specified, Timestamp fields will be assumed to be number of milliseconds since epoch (Midnight, Jan 1, 1970 GMT). If specified, the value must match the Java Simple Date Format (for example, MM/dd/yyyy HH:mm:ss for a two-digit month, followed by a two-digit day, followed by a four-digit year, all separated by '/' characters; and then followed by a two-digit hour in 24-hour format, followed by a two-digit minute, followed by a two-digit second, all separated by ':' characters, as in 01/01/2017 18:04:15).</td></tr><tr><td id="name"><strong>CSV Format</strong></td><td>CSV Format</td><td id="default-value">Custom Format</td><td id="allowable-values"><ul><li>Custom Format <img src="../../../../../html/images/iconInfo.png" alt="The format of the CSV is configured by using the properties of this Controller Service, such as Value Separator" title="The format of the CSV is configured by using the properties of this Controller Service, such as Value Separator"></img></li><li>RFC 4180 <img src="../../../../../html/images/iconInfo.png" alt="CSV data follows the RFC 4180 Specification defined at https://tools.ietf.org/html/rfc4180" title="CSV data follows the RFC 4180 Specification defined at https://tools.ietf.org/html/rfc4180"></img></li><li>Microsoft Excel <img src="../../../../../html/images/iconInfo.png" alt="CSV data follows the format used by Microsoft Excel" title="CSV data follows the format used by Microsoft Excel"></img></li><li>Tab-Delimited <img src="../../../../../html/images/iconInfo.png" alt="CSV data is Tab-Delimited instead of Comma Delimited" title="CSV data is Tab-Delimited instead of Comma Delimited"></img></li><li>MySQL Format <img src="../../../../../html/images/iconInfo.png" alt="CSV data follows the format used by MySQL" title="CSV data follows the format used by MySQL"></img></li><li>Informix Unload <img src="../../../../../html/images/iconInfo.png" alt="The format used by Informix when issuing the UNLOAD TO file_name command" title="The format used by Informix when issuing the UNLOAD TO file_name command"></img></li><li>Informix Unload Escape Disabled <img src="../../../../../html/images/iconInfo.png" alt="The format used by Informix when issuing the UNLOAD TO file_name command with escaping disabled" title="The format used by Informix when issuing the UNLOAD TO file_name command with escaping disabled"></img></li></ul></td><td id="description">Specifies which "format" the CSV data is in, or specifies if custom formatting should be used.</td></tr><tr><td id="name"><strong>Value Separator</strong></td><td>Value Separator</td><td id="default-value">,</td><td id="allowable-values"></td><td id="description">The character that is used to separate values/fields in a CSV Record. If the property has been specified via Expression Language but the expression gets evaluated to an invalid Value Separator at runtime, then it will be skipped and the default Value Separator will be used.<br/><strong>Supports Expression Language: true (will be evaluated using flow file attributes and variable registry)</strong><br/><br/><strong>This Property is only considered if </strong><strong>the [CSV Format] Property has a value of "Custom Format".</strong></td></tr><tr><td id="name"><strong>Include Header Line</strong></td><td>Include Header Line</td><td id="default-value">true</td><td id="allowable-values"><ul><li>true</li><li>false</li></ul></td><td id="description">Specifies whether or not the CSV column names should be written out as the first line.</td></tr><tr><td id="name"><strong>Quote Character</strong></td><td>Quote Character</td><td id="default-value">"</td><td id="allowable-values"></td><td id="description">The character that is used to quote values so that escape characters do not have to be used. If the property has been specified via Expression Language but the expression gets evaluated to an invalid Quote Character at runtime, then it will be skipped and the default Quote Character will be used.<br/><strong>Supports Expression Language: true (will be evaluated using flow file attributes and variable registry)</strong><br/><br/><strong>This Property is only considered if </strong><strong>the [CSV Format] Property has a value of "Custom Format".</strong></td></tr><tr><td id="name"><strong>Escape Character</strong></td><td>Escape Character</td><td id="default-value">\</td><td id="allowable-values"></td><td id="description">The character that is used to escape characters that would otherwise have a specific meaning to the CSV Parser. If the property has been specified via Expression Language but the expression gets evaluated to an invalid Escape Character at runtime, then it will be skipped and the default Escape Character will be used. Setting it to an empty string means no escape character should be used.<br/><strong>Supports Expression Language: true (will be evaluated using flow file attributes and variable registry)</strong><br/><br/><strong>This Property is only considered if </strong><strong>the [CSV Format] Property has a value of "Custom Format".</strong></td></tr><tr><td id="name">Comment Marker</td><td>Comment Marker</td><td></td><td id="allowable-values"></td><td id="description">The character that is used to denote the start of a comment. Any line that begins with this comment will be ignored.<br/><strong>Supports Expression Language: true (will be evaluated using flow file attributes and variable registry)</strong><br/><br/><strong>This Property is only considered if </strong><strong>the [CSV Format] Property has a value of "Custom Format".</strong></td></tr><tr><td id="name">Null String</td><td>Null String</td><td></td><td id="allowable-values"></td><td id="description">Specifies a String that, if present as a value in the CSV, should be considered a null field instead of using the literal value.<br/><br/><strong>This Property is only considered if </strong><strong>the [CSV Format] Property has a value of "Custom Format".</strong></td></tr><tr><td id="name"><strong>Trim Fields</strong></td><td>Trim Fields</td><td id="default-value">true</td><td id="allowable-values"><ul><li>true</li><li>false</li></ul></td><td id="description">Whether or not white space should be removed from the beginning and end of fields<br/><br/><strong>This Property is only considered if </strong><strong>the [CSV Format] Property has a value of "Custom Format".</strong></td></tr><tr><td id="name"><strong>Quote Mode</strong></td><td>Quote Mode</td><td id="default-value">Quote Minimal</td><td id="allowable-values"><ul><li>Quote All Values <img src="../../../../../html/images/iconInfo.png" alt="All values will be quoted using the configured quote character." title="All values will be quoted using the configured quote character."></img></li><li>Quote Minimal <img src="../../../../../html/images/iconInfo.png" alt="Values will be quoted only if they are contain special characters such as newline characters or field separators." title="Values will be quoted only if they are contain special characters such as newline characters or field separators."></img></li><li>Quote Non-Numeric Values <img src="../../../../../html/images/iconInfo.png" alt="Values will be quoted unless the value is a number." title="Values will be quoted unless the value is a number."></img></li><li>Do Not Quote Values <img src="../../../../../html/images/iconInfo.png" alt="Values will not be quoted. Instead, all special characters will be escaped using the configured escape character." title="Values will not be quoted. Instead, all special characters will be escaped using the configured escape character."></img></li></ul></td><td id="description">Specifies how fields should be quoted when they are written<br/><br/><strong>This Property is only considered if </strong><strong>the [CSV Format] Property has a value of "Custom Format".</strong></td></tr><tr><td id="name"><strong>Record Separator</strong></td><td>Record Separator</td><td id="default-value">\n</td><td id="allowable-values"></td><td id="description">Specifies the characters to use in order to separate CSV Records<br/><br/><strong>This Property is only considered if </strong><strong>the [CSV Format] Property has a value of "Custom Format".</strong></td></tr><tr><td id="name"><strong>Include Trailing Delimiter</strong></td><td>Include Trailing Delimiter</td><td id="default-value">false</td><td id="allowable-values"><ul><li>true</li><li>false</li></ul></td><td id="description">If true, a trailing delimiter will be added to each CSV Record that is written. If false, the trailing delimiter will be omitted.<br/><br/><strong>This Property is only considered if </strong><strong>the [CSV Format] Property has a value of "Custom Format".</strong></td></tr><tr><td id="name"><strong>Character Set</strong></td><td>csvutils-character-set</td><td id="default-value">UTF-8</td><td id="allowable-values"></td><td id="description">The Character Encoding that is used to encode/decode the CSV file</td></tr></table><h3>State management: </h3>This component does not store state.<h3>Restricted: </h3>This component is not restricted.<h3>System Resource Considerations:</h3>None specified.</body></html>