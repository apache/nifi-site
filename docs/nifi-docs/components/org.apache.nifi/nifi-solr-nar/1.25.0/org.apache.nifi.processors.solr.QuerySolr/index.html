<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"></meta><title>QuerySolr</title><link rel="stylesheet" href="../../../../../css/component-usage.css" type="text/css"></link></head><script type="text/javascript">window.onload = function(){if(self==top) { document.getElementById('nameHeader').style.display = "inherit"; } }</script><body><h1 id="nameHeader" style="display: none;">QuerySolr</h1><h2>Description: </h2><p>Queries Solr and outputs the results as a FlowFile in the format of XML or using a Record Writer</p><h3>Tags: </h3><p>Apache, Solr, Get, Query, Records</p><h3>Properties: </h3><p>In the list below, the names of required properties appear in <strong>bold</strong>. Any other properties (not in bold) are considered optional. The table also indicates any default values, and whether a property supports the <a href="../../../../../html/expression-language-guide.html">NiFi Expression Language</a>.</p><table id="properties"><tr><th>Display Name</th><th>API Name</th><th>Default Value</th><th>Allowable Values</th><th>Description</th></tr><tr><td id="name"><strong>Solr Type</strong></td><td>Solr Type</td><td id="default-value">Standard</td><td id="allowable-values"><ul><li>Cloud <img src="../../../../../html/images/iconInfo.png" alt="A SolrCloud instance." title="A SolrCloud instance."></img></li><li>Standard <img src="../../../../../html/images/iconInfo.png" alt="A stand-alone Solr instance." title="A stand-alone Solr instance."></img></li></ul></td><td id="description">The type of Solr instance, Cloud or Standard.</td></tr><tr><td id="name"><strong>Solr Location</strong></td><td>Solr Location</td><td></td><td id="allowable-values"></td><td id="description">The Solr url for a Solr Type of Standard (ex: http://localhost:8984/solr/gettingstarted), or the ZooKeeper hosts for a Solr Type of Cloud (ex: localhost:9983).<br/><strong>Supports Expression Language: true (will be evaluated using variable registry only)</strong></td></tr><tr><td id="name">Collection</td><td>Collection</td><td></td><td id="allowable-values"></td><td id="description">The Solr collection name, only used with a Solr Type of Cloud<br/><strong>Supports Expression Language: true (will be evaluated using flow file attributes and variable registry)</strong></td></tr><tr><td id="name"><strong>Return Type</strong></td><td>return_type</td><td id="default-value">XML</td><td id="allowable-values"><ul><li>XML</li><li>Records</li></ul></td><td id="description">Output format of Solr results. Write Solr documents to FlowFiles as XML or using a Record Writer</td></tr><tr><td id="name">Record Writer</td><td>Record Writer</td><td></td><td id="allowable-values"><strong>Controller Service API: </strong><br/>RecordSetWriterFactory<br/><strong>Implementations: </strong><a href="../../../nifi-record-serialization-services-nar/1.25.0/org.apache.nifi.text.FreeFormTextRecordSetWriter/index.html">FreeFormTextRecordSetWriter</a><br/><a href="../../../nifi-record-serialization-services-nar/1.25.0/org.apache.nifi.csv.CSVRecordSetWriter/index.html">CSVRecordSetWriter</a><br/><a href="../../../nifi-parquet-nar/1.25.0/org.apache.nifi.parquet.ParquetRecordSetWriter/index.html">ParquetRecordSetWriter</a><br/><a href="../../../nifi-record-serialization-services-nar/1.25.0/org.apache.nifi.lookup.RecordSetWriterLookup/index.html">RecordSetWriterLookup</a><br/><a href="../../../nifi-scripting-nar/1.25.0/org.apache.nifi.record.script.ScriptedRecordSetWriter/index.html">ScriptedRecordSetWriter</a><br/><a href="../../../nifi-record-serialization-services-nar/1.25.0/org.apache.nifi.xml.XMLRecordSetWriter/index.html">XMLRecordSetWriter</a><br/><a href="../../../nifi-record-serialization-services-nar/1.25.0/org.apache.nifi.json.JsonRecordSetWriter/index.html">JsonRecordSetWriter</a><br/><a href="../../../nifi-record-serialization-services-nar/1.25.0/org.apache.nifi.avro.AvroRecordSetWriter/index.html">AvroRecordSetWriter</a></td><td id="description">The Record Writer to use in order to write Solr documents to FlowFiles. Must be set if "Records" is used as return type.<br/><strong>Supports Expression Language: true (will be evaluated using flow file attributes and variable registry)</strong></td></tr><tr><td id="name"><strong>Solr Query</strong></td><td>solr_param_query</td><td id="default-value">*:*</td><td id="allowable-values"></td><td id="description">Solr Query, e. g. field:value<br/><strong>Supports Expression Language: true (will be evaluated using flow file attributes and variable registry)</strong></td></tr><tr><td id="name"><strong>Request Handler</strong></td><td>solr_param_request_handler</td><td id="default-value">/select</td><td id="allowable-values"></td><td id="description">Define a request handler here, e. g. /query<br/><strong>Supports Expression Language: true (will be evaluated using flow file attributes and variable registry)</strong></td></tr><tr><td id="name">Field List</td><td>solr_param_field_list</td><td></td><td id="allowable-values"></td><td id="description">Comma separated list of fields to be included into results, e. g. field1,field2<br/><strong>Supports Expression Language: true (will be evaluated using flow file attributes and variable registry)</strong></td></tr><tr><td id="name">Sorting of result list</td><td>solr_param_sort</td><td></td><td id="allowable-values"></td><td id="description">Comma separated sort clauses to define the sorting of results, e. g. field1 asc, field2 desc<br/><strong>Supports Expression Language: true (will be evaluated using flow file attributes and variable registry)</strong></td></tr><tr><td id="name">Start of results</td><td>solr_param_start</td><td></td><td id="allowable-values"></td><td id="description">Offset of result set<br/><strong>Supports Expression Language: true (will be evaluated using flow file attributes and variable registry)</strong></td></tr><tr><td id="name">Rows</td><td>solr_param_rows</td><td></td><td id="allowable-values"></td><td id="description">Number of results to be returned for a single request<br/><strong>Supports Expression Language: true (will be evaluated using flow file attributes and variable registry)</strong></td></tr><tr><td id="name"><strong>Total amount of returned results</strong></td><td>amount_documents_to_return</td><td id="default-value">Only top results</td><td id="allowable-values"><ul><li>Entire results</li><li>Only top results</li></ul></td><td id="description">Total amount of Solr documents to be returned. If this property is set to "Only top results", only single requests will be sent to Solr and the results will be written into single FlowFiles. If it is set to "Entire results", all results matching to the query are retrieved via multiple Solr requests and returned in multiple FlowFiles. For both options, the number of Solr documents to be returned in a FlowFile depends on the configuration of the "Rows" property</td></tr><tr><td id="name">Kerberos Credentials Service</td><td>kerberos-credentials-service</td><td></td><td id="allowable-values"><strong>Controller Service API: </strong><br/>KerberosCredentialsService<br/><strong>Implementation: </strong><a href="../../../nifi-kerberos-credentials-service-nar/1.25.0/org.apache.nifi.kerberos.KeytabCredentialsService/index.html">KeytabCredentialsService</a></td><td id="description">Specifies the Kerberos Credentials Controller Service that should be used for authenticating with Kerberos</td></tr><tr><td id="name">Kerberos User Service</td><td>kerberos-user-service</td><td></td><td id="allowable-values"><strong>Controller Service API: </strong><br/>KerberosUserService<br/><strong>Implementations: </strong><a href="../../../nifi-kerberos-user-service-nar/1.25.0/org.apache.nifi.kerberos.KerberosTicketCacheUserService/index.html">KerberosTicketCacheUserService</a><br/><a href="../../../nifi-kerberos-user-service-nar/1.25.0/org.apache.nifi.kerberos.KerberosKeytabUserService/index.html">KerberosKeytabUserService</a><br/><a href="../../../nifi-kerberos-user-service-nar/1.25.0/org.apache.nifi.kerberos.KerberosPasswordUserService/index.html">KerberosPasswordUserService</a></td><td id="description">Specifies the Kerberos User Controller Service that should be used for authenticating with Kerberos</td></tr><tr><td id="name">Kerberos Principal</td><td>kerberos-principal</td><td></td><td id="allowable-values"></td><td id="description">The principal to use when specifying the principal and password directly in the processor for authenticating to Solr via Kerberos.<br/><strong>Supports Expression Language: true (will be evaluated using variable registry only)</strong></td></tr><tr><td id="name">Kerberos Password</td><td>kerberos-password</td><td></td><td id="allowable-values"></td><td id="description">The password to use when specifying the principal and password directly in the processor for authenticating to Solr via Kerberos.<br/><strong>Sensitive Property: true</strong></td></tr><tr><td id="name">Basic Auth Username</td><td>Username</td><td></td><td id="allowable-values"></td><td id="description">The username to use when Solr is configured with basic authentication.<br/><strong>Supports Expression Language: true (will be evaluated using variable registry only)</strong></td></tr><tr><td id="name">Basic Auth Password</td><td>Password</td><td></td><td id="allowable-values"></td><td id="description">The password to use when Solr is configured with basic authentication.<br/><strong>Sensitive Property: true</strong><br/><strong>Supports Expression Language: true (will be evaluated using variable registry only)</strong></td></tr><tr><td id="name">SSL Context Service</td><td>SSL Context Service</td><td></td><td id="allowable-values"><strong>Controller Service API: </strong><br/>SSLContextService<br/><strong>Implementations: </strong><a href="../../../nifi-ssl-context-service-nar/1.25.0/org.apache.nifi.ssl.StandardSSLContextService/index.html">StandardSSLContextService</a><br/><a href="../../../nifi-ssl-context-service-nar/1.25.0/org.apache.nifi.ssl.StandardRestrictedSSLContextService/index.html">StandardRestrictedSSLContextService</a></td><td id="description">The Controller Service to use in order to obtain an SSL Context. This property must be set when communicating with a Solr over https.</td></tr><tr><td id="name"><strong>Solr Socket Timeout</strong></td><td>Solr Socket Timeout</td><td id="default-value">10 seconds</td><td id="allowable-values"></td><td id="description">The amount of time to wait for data on a socket connection to Solr. A value of 0 indicates an infinite timeout.</td></tr><tr><td id="name"><strong>Solr Connection Timeout</strong></td><td>Solr Connection Timeout</td><td id="default-value">10 seconds</td><td id="allowable-values"></td><td id="description">The amount of time to wait when establishing a connection to Solr. A value of 0 indicates an infinite timeout.</td></tr><tr><td id="name"><strong>Solr Maximum Connections</strong></td><td>Solr Maximum Connections</td><td id="default-value">10</td><td id="allowable-values"></td><td id="description">The maximum number of total connections allowed from the Solr client to Solr.</td></tr><tr><td id="name"><strong>Solr Maximum Connections Per Host</strong></td><td>Solr Maximum Connections Per Host</td><td id="default-value">5</td><td id="allowable-values"></td><td id="description">The maximum number of connections allowed from the Solr client to a single Solr host.</td></tr><tr><td id="name">ZooKeeper Client Timeout</td><td>ZooKeeper Client Timeout</td><td id="default-value">10 seconds</td><td id="allowable-values"></td><td id="description">The amount of time to wait for data on a connection to ZooKeeper, only used with a Solr Type of Cloud.</td></tr><tr><td id="name">ZooKeeper Connection Timeout</td><td>ZooKeeper Connection Timeout</td><td id="default-value">10 seconds</td><td id="allowable-values"></td><td id="description">The amount of time to wait when establishing a connection to ZooKeeper, only used with a Solr Type of Cloud.</td></tr></table><h3>Dynamic Properties: </h3><p>Supports Sensitive Dynamic Properties: <strong>No</strong></p><p>Dynamic Properties allow the user to specify both the name and value of a property.<table id="dynamic-properties"><tr><th>Name</th><th>Value</th><th>Description</th></tr><tr><td id="name">A Solr request parameter name</td><td id="value">A Solr request parameter value</td><td>These parameters will be passed to Solr on the request<br/><strong>Supports Expression Language: false</strong></td></tr></table></p><h3>Relationships: </h3><table id="relationships"><tr><th>Name</th><th>Description</th></tr><tr><td>stats</td><td>Stats about Solr index</td></tr><tr><td>results</td><td>Results of Solr queries</td></tr><tr><td>facets</td><td>Results of faceted search</td></tr><tr><td>failure</td><td>Failure relationship</td></tr><tr><td>original</td><td>Original flowfile</td></tr></table><h3>Reads Attributes: </h3>None specified.<h3>Writes Attributes: </h3><table id="writes-attributes"><tr><th>Name</th><th>Description</th></tr><tr><td>solr.connect</td><td>Solr connect string</td></tr><tr><td>solr.collection</td><td>Solr collection</td></tr><tr><td>solr.query</td><td>Query string sent to Solr</td></tr><tr><td>solr.cursor.mark</td><td>Cursor mark can be used for scrolling Solr</td></tr><tr><td>solr.status.code</td><td>Status code of Solr request. A status code of 0 indicates that the request was successfully processed</td></tr><tr><td>solr.query.time</td><td>The elapsed time to process the query (in ms)</td></tr><tr><td>solr.start</td><td>Solr start parameter (result offset) for the query</td></tr><tr><td>solr.rows</td><td>Number of Solr documents to be returned for the query</td></tr><tr><td>solr.number.results</td><td>Number of Solr documents that match the query</td></tr><tr><td>mime.type</td><td>The mime type of the data format</td></tr><tr><td>querysolr.exeption.class</td><td>The Java exception class raised when the processor fails</td></tr><tr><td>querysolr.exeption.message</td><td>The Java exception message raised when the processor fails</td></tr></table><h3>State management: </h3>This component does not store state.<h3>Restricted: </h3>This component is not restricted.<h3>Input requirement: </h3>This component allows an incoming relationship.<h3>System Resource Considerations:</h3>None specified.</body></html>