<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"></meta><title>QueryCassandra</title><link rel="stylesheet" href="../../../../../css/component-usage.css" type="text/css"></link></head><script type="text/javascript">window.onload = function(){if(self==top) { document.getElementById('nameHeader').style.display = "inherit"; } }</script><body><h1 id="nameHeader" style="display: none;">QueryCassandra</h1><h2>Description: </h2><p>Execute provided Cassandra Query Language (CQL) select query on a Cassandra 1.x, 2.x, or 3.0.x cluster. Query result may be converted to Avro or JSON format. Streaming is used so arbitrarily large result sets are supported. This processor can be scheduled to run on a timer, or cron expression, using the standard scheduling methods, or it can be triggered by an incoming FlowFile. If it is triggered by an incoming FlowFile, then attributes of that FlowFile will be available when evaluating the select query. FlowFile attribute 'executecql.row.count' indicates how many rows were selected.</p><h3>Tags: </h3><p>cassandra, cql, select</p><h3>Properties: </h3><p>In the list below, the names of required properties appear in <strong>bold</strong>. Any other properties (not in bold) are considered optional. The table also indicates any default values, and whether a property supports the <a href="../../../../../html/expression-language-guide.html">NiFi Expression Language</a>.</p><table id="properties"><tr><th>Display Name</th><th>API Name</th><th>Default Value</th><th>Allowable Values</th><th>Description</th></tr><tr><td id="name">Cassandra Connection Provider</td><td>cassandra-connection-provider</td><td></td><td id="allowable-values"><strong>Controller Service API: </strong><br/>CassandraSessionProviderService<br/><strong>Implementation: </strong><a href="../../../nifi-cassandra-services-nar/1.23.1/org.apache.nifi.service.CassandraSessionProvider/index.html">CassandraSessionProvider</a></td><td id="description">Specifies the Cassandra connection providing controller service to be used to connect to Cassandra cluster.</td></tr><tr><td id="name">Cassandra Contact Points</td><td>Cassandra Contact Points</td><td></td><td id="allowable-values"></td><td id="description">Contact points are addresses of Cassandra nodes. The list of contact points should be comma-separated and in hostname:port format. Example node1:port,node2:port,.... The default client port for Cassandra is 9042, but the port(s) must be explicitly specified.<br/><strong>Supports Expression Language: true (will be evaluated using variable registry only)</strong></td></tr><tr><td id="name">Keyspace</td><td>Keyspace</td><td></td><td id="allowable-values"></td><td id="description">The Cassandra Keyspace to connect to. If no keyspace is specified, the query will need to include the keyspace name before any table reference, in case of 'query' native processors or if the processor exposes the 'Table' property, the keyspace name has to be provided with the table name in the form of &lt;KEYSPACE&gt;.&lt;TABLE&gt;<br/><strong>Supports Expression Language: true (will be evaluated using variable registry only)</strong></td></tr><tr><td id="name">SSL Context Service</td><td>SSL Context Service</td><td></td><td id="allowable-values"><strong>Controller Service API: </strong><br/>SSLContextService<br/><strong>Implementations: </strong><a href="../../../nifi-ssl-context-service-nar/1.23.1/org.apache.nifi.ssl.StandardRestrictedSSLContextService/index.html">StandardRestrictedSSLContextService</a><br/><a href="../../../nifi-ssl-context-service-nar/1.23.1/org.apache.nifi.ssl.StandardSSLContextService/index.html">StandardSSLContextService</a></td><td id="description">The SSL Context Service used to provide client certificate information for TLS/SSL connections.</td></tr><tr><td id="name">Client Auth</td><td>Client Auth</td><td id="default-value">REQUIRED</td><td id="allowable-values"><ul><li>WANT</li><li>REQUIRED</li><li>NONE</li></ul></td><td id="description">Client authentication policy when connecting to secure (TLS/SSL) cluster. Possible values are REQUIRED, WANT, NONE. This property is only used when an SSL Context has been defined and enabled.</td></tr><tr><td id="name">Username</td><td>Username</td><td></td><td id="allowable-values"></td><td id="description">Username to access the Cassandra cluster<br/><strong>Supports Expression Language: true (will be evaluated using variable registry only)</strong></td></tr><tr><td id="name">Password</td><td>Password</td><td></td><td id="allowable-values"></td><td id="description">Password to access the Cassandra cluster<br/><strong>Sensitive Property: true</strong><br/><strong>Supports Expression Language: true (will be evaluated using variable registry only)</strong></td></tr><tr><td id="name">Consistency Level</td><td>Consistency Level</td><td id="default-value">ONE</td><td id="allowable-values"><ul><li>ANY</li><li>ONE</li><li>TWO</li><li>THREE</li><li>QUORUM</li><li>ALL</li><li>LOCAL_QUORUM</li><li>EACH_QUORUM</li><li>SERIAL</li><li>LOCAL_SERIAL</li><li>LOCAL_ONE</li></ul></td><td id="description">The strategy for how many replicas must respond before results are returned.</td></tr><tr><td id="name"><strong>Character Set</strong></td><td>Character Set</td><td id="default-value">UTF-8</td><td id="allowable-values"></td><td id="description">Specifies the character set of the record data.<br/><strong>Supports Expression Language: true (will be evaluated using flow file attributes and variable registry)</strong></td></tr><tr><td id="name"><strong>CQL select query</strong></td><td>CQL select query</td><td></td><td id="allowable-values"></td><td id="description">CQL select query<br/><strong>Supports Expression Language: true (will be evaluated using flow file attributes and variable registry)</strong></td></tr><tr><td id="name"><strong>Max Wait Time</strong></td><td>Max Wait Time</td><td id="default-value">0 seconds</td><td id="allowable-values"></td><td id="description">The maximum amount of time allowed for a running CQL select query. Must be of format &lt;duration&gt; &lt;TimeUnit&gt; where &lt;duration&gt; is a non-negative integer and TimeUnit is a supported Time Unit, such as: nanos, millis, secs, mins, hrs, days. A value of zero means there is no limit. <br/><strong>Supports Expression Language: true (will be evaluated using flow file attributes and variable registry)</strong></td></tr><tr><td id="name"><strong>Fetch size</strong></td><td>Fetch size</td><td id="default-value">0</td><td id="allowable-values"></td><td id="description">The number of result rows to be fetched from the result set at a time. Zero is the default and means there is no limit.<br/><strong>Supports Expression Language: true (will be evaluated using variable registry only)</strong></td></tr><tr><td id="name"><strong>Max Rows Per Flow File</strong></td><td>Max Rows Per Flow File</td><td id="default-value">0</td><td id="allowable-values"></td><td id="description">The maximum number of result rows that will be included in a single FlowFile. This will allow you to break up very large result sets into multiple FlowFiles. If the value specified is zero, then all rows are returned in a single FlowFile.<br/><strong>Supports Expression Language: true (will be evaluated using variable registry only)</strong></td></tr><tr><td id="name"><strong>Output Batch Size</strong></td><td>qdbt-output-batch-size</td><td id="default-value">0</td><td id="allowable-values"></td><td id="description">The number of output FlowFiles to queue before committing the process session. When set to zero, the session will be committed when all result set rows have been processed and the output FlowFiles are ready for transfer to the downstream relationship. For large result sets, this can cause a large burst of FlowFiles to be transferred at the end of processor execution. If this property is set, then when the specified number of FlowFiles are ready for transfer, then the session will be committed, thus releasing the FlowFiles to the downstream relationship. NOTE: The maxvalue.* and fragment.count attributes will not be set on FlowFiles when this property is set.<br/><strong>Supports Expression Language: true (will be evaluated using variable registry only)</strong></td></tr><tr><td id="name"><strong>Output Format</strong></td><td>Output Format</td><td id="default-value">Avro</td><td id="allowable-values"><ul><li>Avro</li><li>JSON</li></ul></td><td id="description">The format to which the result rows will be converted. If JSON is selected, the output will contain an object with field 'results' containing an array of result rows. Each row in the array is a map of the named column to its value. For example: { "results": [{"userid":1, "name":"Joe Smith"}]}</td></tr><tr><td id="name"><strong>Timestamp Format Pattern for JSON output</strong></td><td>timestamp-format-pattern</td><td id="default-value">yyyy-MM-dd HH:mm:ssZ</td><td id="allowable-values"></td><td id="description">Pattern to use when converting timestamp fields to JSON. Note: the formatted timestamp will be in UTC timezone.</td></tr></table><h3>Relationships: </h3><table id="relationships"><tr><th>Name</th><th>Description</th></tr><tr><td>retry</td><td>A FlowFile is transferred to this relationship if the operation cannot be completed but attempting it again may succeed.</td></tr><tr><td>success</td><td>A FlowFile is transferred to this relationship if the operation completed successfully.</td></tr><tr><td>failure</td><td>A FlowFile is transferred to this relationship if the operation failed.</td></tr></table><h3>Reads Attributes: </h3>None specified.<h3>Writes Attributes: </h3><table id="writes-attributes"><tr><th>Name</th><th>Description</th></tr><tr><td>executecql.row.count</td><td>The number of rows returned by the CQL query</td></tr></table><h3>State management: </h3>This component does not store state.<h3>Restricted: </h3>This component is not restricted.<h3>Input requirement: </h3>This component allows an incoming relationship.<h3>System Resource Considerations:</h3>None specified.</body></html>