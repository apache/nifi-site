<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"></meta><title>ConsumeJMS</title><link rel="stylesheet" href="../../../../../css/component-usage.css" type="text/css"></link></head><script type="text/javascript">window.onload = function(){if(self==top) { document.getElementById('nameHeader').style.display = "inherit"; } }</script><body><h1 id="nameHeader" style="display: none;">ConsumeJMS</h1><h2>Description: </h2><p>Consumes JMS Message of type BytesMessage, TextMessage, ObjectMessage, MapMessage or StreamMessage transforming its content to a FlowFile and transitioning it to 'success' relationship. JMS attributes such as headers and properties will be copied as FlowFile attributes. MapMessages will be transformed into JSONs and then into byte arrays. The other types will have their raw contents as byte array transferred into the flowfile.</p><p><a href="additionalDetails.html">Additional Details...</a></p><h3>Tags: </h3><p>jms, get, message, receive, consume</p><h3>Properties: </h3><p>In the list below, the names of required properties appear in <strong>bold</strong>. Any other properties (not in bold) are considered optional. The table also indicates any default values, whether a property supports the <a href="../../../../../html/expression-language-guide.html">NiFi Expression Language</a>, and whether a property is considered "sensitive", meaning that its value will be encrypted. Before entering a value in a sensitive property, ensure that the <strong>nifi.properties</strong> file has an entry for the property <strong>nifi.sensitive.props.key</strong>.</p><table id="properties"><tr><th>Name</th><th>Default Value</th><th>Allowable Values</th><th>Description</th></tr><tr><td id="name">Connection Factory Service</td><td></td><td id="allowable-values"><strong>Controller Service API: </strong><br/>JMSConnectionFactoryProviderDefinition<br/><strong>Implementations: </strong><a href="../org.apache.nifi.jms.cf.JndiJmsConnectionFactoryProvider/index.html">JndiJmsConnectionFactoryProvider</a><br/><a href="../org.apache.nifi.jms.cf.JMSConnectionFactoryProvider/index.html">JMSConnectionFactoryProvider</a></td><td id="description">The Controller Service that is used to obtain Connection Factory. Alternatively, the 'JNDI *' or the 'JMS *' properties can also be be used to configure the Connection Factory.</td></tr><tr><td id="name"><strong>Destination Name</strong></td><td></td><td id="allowable-values"></td><td id="description">The name of the JMS Destination. Usually provided by the administrator (e.g., 'topic://myTopic' or 'myTopic').<br/><strong>Supports Expression Language: true (will be evaluated using variable registry only)</strong></td></tr><tr><td id="name"><strong>Destination Type</strong></td><td id="default-value">QUEUE</td><td id="allowable-values"><ul><li>QUEUE</li><li>TOPIC</li></ul></td><td id="description">The type of the JMS Destination. Could be one of 'QUEUE' or 'TOPIC'. Usually provided by the administrator. Defaults to 'QUEUE'</td></tr><tr><td id="name">Message Selector</td><td></td><td id="allowable-values"></td><td id="description">The JMS Message Selector to filter the messages that the processor will receive<br/><strong>Supports Expression Language: true (will be evaluated using variable registry only)</strong></td></tr><tr><td id="name">User Name</td><td></td><td id="allowable-values"></td><td id="description">User Name used for authentication and authorization.<br/><strong>Supports Expression Language: true (will be evaluated using variable registry only)</strong></td></tr><tr><td id="name">Password</td><td></td><td id="allowable-values"></td><td id="description">Password used for authentication and authorization.<br/><strong>Sensitive Property: true</strong></td></tr><tr><td id="name">Connection Client ID</td><td></td><td id="allowable-values"></td><td id="description">The client id to be set on the connection, if set. For durable non shared consumer this is mandatory, for all others it is optional, typically with shared consumers it is undesirable to be set. Please see JMS spec for further details<br/><strong>Supports Expression Language: true (will be evaluated using variable registry only)</strong></td></tr><tr><td id="name">Session Cache Size</td><td id="default-value">1</td><td id="allowable-values"></td><td id="description">This property is deprecated and no longer has any effect on the Processor. It will be removed in a later version.</td></tr><tr><td id="name"><strong>Character Set</strong></td><td id="default-value">UTF-8</td><td id="allowable-values"></td><td id="description">The name of the character set to use to construct or interpret TextMessages<br/><strong>Supports Expression Language: true (will be evaluated using variable registry only)</strong></td></tr><tr><td id="name"><strong>Acknowledgement Mode</strong></td><td id="default-value">CLIENT_ACKNOWLEDGE (2)</td><td id="allowable-values"><ul><li>AUTO_ACKNOWLEDGE (1) <img src="../../../../../html/images/iconInfo.png" alt="Automatically acknowledges a client's receipt of a message, regardless if NiFi session has been commited. Can result in data loss in the event where NiFi abruptly stopped before session was commited." title="Automatically acknowledges a client's receipt of a message, regardless if NiFi session has been commited. Can result in data loss in the event where NiFi abruptly stopped before session was commited."></img></li><li>CLIENT_ACKNOWLEDGE (2) <img src="../../../../../html/images/iconInfo.png" alt="(DEFAULT) Manually acknowledges a client's receipt of a message after NiFi Session was commited, thus ensuring no data loss" title="(DEFAULT) Manually acknowledges a client's receipt of a message after NiFi Session was commited, thus ensuring no data loss"></img></li><li>DUPS_OK_ACKNOWLEDGE (3) <img src="../../../../../html/images/iconInfo.png" alt="This acknowledgment mode instructs the session to lazily acknowledge the delivery of messages. May result in both data duplication and data loss while achieving the best throughput." title="This acknowledgment mode instructs the session to lazily acknowledge the delivery of messages. May result in both data duplication and data loss while achieving the best throughput."></img></li></ul></td><td id="description">The JMS Acknowledgement Mode. Using Auto Acknowledge can cause messages to be lost on restart of NiFi but may provide better performance than Client Acknowledge.</td></tr><tr><td id="name">Durable Subscription</td><td id="default-value">false</td><td id="allowable-values"><ul><li>true</li><li>false</li></ul></td><td id="description">If destination is Topic if present then make it the consumer durable. @see https://docs.oracle.com/javaee/7/api/javax/jms/Session.html#createDurableConsumer-javax.jms.Topic-java.lang.String-<br/><strong>Supports Expression Language: true (will be evaluated using variable registry only)</strong></td></tr><tr><td id="name">Shared Subscription</td><td id="default-value">false</td><td id="allowable-values"><ul><li>true</li><li>false</li></ul></td><td id="description">If destination is Topic if present then make it the consumer shared. @see https://docs.oracle.com/javaee/7/api/javax/jms/Session.html#createSharedConsumer-javax.jms.Topic-java.lang.String-<br/><strong>Supports Expression Language: true (will be evaluated using variable registry only)</strong></td></tr><tr><td id="name">Subscription Name</td><td></td><td id="allowable-values"></td><td id="description">The name of the subscription to use if destination is Topic and is shared or durable.<br/><strong>Supports Expression Language: true (will be evaluated using variable registry only)</strong></td></tr><tr><td id="name"><strong>Timeout</strong></td><td id="default-value">1 sec</td><td id="allowable-values"></td><td id="description">How long to wait to consume a message from the remote broker before giving up.<br/><strong>Supports Expression Language: true (will be evaluated using variable registry only)</strong></td></tr><tr><td id="name">Error Queue Name</td><td></td><td id="allowable-values"></td><td id="description">The name of a JMS Queue where - if set - unprocessed messages will be routed. Usually provided by the administrator (e.g., 'queue://myErrorQueue' or 'myErrorQueue').Only applicable if 'Destination Type' is set to 'QUEUE'<br/><strong>Supports Expression Language: true (will be evaluated using variable registry only)</strong></td></tr><tr><td id="name">JNDI Initial Context Factory Class</td><td></td><td id="allowable-values"></td><td id="description">The fully qualified class name of the JNDI Initial Context Factory Class (java.naming.factory.initial).<br/><strong>Supports Expression Language: true (will be evaluated using variable registry only)</strong></td></tr><tr><td id="name">JNDI Provider URL</td><td></td><td id="allowable-values"></td><td id="description">The URL of the JNDI Provider to use (java.naming.provider.url).<br/><strong>Supports Expression Language: true (will be evaluated using variable registry only)</strong></td></tr><tr><td id="name">JNDI Name of the Connection Factory</td><td></td><td id="allowable-values"></td><td id="description">The name of the JNDI Object to lookup for the Connection Factory.<br/><strong>Supports Expression Language: true (will be evaluated using variable registry only)</strong></td></tr><tr><td id="name">JNDI / JMS Client Libraries</td><td></td><td id="allowable-values"></td><td id="description">Specifies jar files and/or directories to add to the ClassPath in order to load the JNDI / JMS client libraries. This should be a comma-separated list of files, directories, and/or URLs. If a directory is given, any files in that directory will be included, but subdirectories will not be included (i.e., it is not recursive).<br/><br/><strong>This property expects a comma-separated list of resources. Each of the resources may be of any of the following types: file, directory, URL.</strong><br/><br/><strong>Supports Expression Language: true (will be evaluated using variable registry only)</strong></td></tr><tr><td id="name">JNDI Principal</td><td></td><td id="allowable-values"></td><td id="description">The Principal to use when authenticating with JNDI (java.naming.security.principal).<br/><strong>Supports Expression Language: true (will be evaluated using variable registry only)</strong></td></tr><tr><td id="name">JNDI Credentials</td><td></td><td id="allowable-values"></td><td id="description">The Credentials to use when authenticating with JNDI (java.naming.security.credentials).<br/><strong>Sensitive Property: true</strong></td></tr><tr><td id="name">JMS Connection Factory Implementation Class</td><td></td><td id="allowable-values"></td><td id="description">The fully qualified name of the JMS ConnectionFactory implementation class (eg. org.apache.activemq.ActiveMQConnectionFactory).<br/><strong>Supports Expression Language: true (will be evaluated using variable registry only)</strong></td></tr><tr><td id="name">JMS Client Libraries</td><td></td><td id="allowable-values"></td><td id="description">Path to the directory with additional resources (eg. JARs, configuration files etc.) to be added to the classpath (defined as a comma separated list of values). Such resources typically represent target JMS client libraries for the ConnectionFactory implementation.<br/><br/><strong>This property expects a comma-separated list of resources. Each of the resources may be of any of the following types: file, directory, URL.</strong><br/><br/><strong>Supports Expression Language: true (will be evaluated using variable registry only)</strong></td></tr><tr><td id="name">JMS Broker URI</td><td></td><td id="allowable-values"></td><td id="description">URI pointing to the network location of the JMS Message broker. Example for ActiveMQ: 'tcp://myhost:61616'. Examples for IBM MQ: 'myhost(1414)' and 'myhost01(1414),myhost02(1414)'.<br/><strong>Supports Expression Language: true (will be evaluated using variable registry only)</strong></td></tr><tr><td id="name">JMS SSL Context Service</td><td></td><td id="allowable-values"><strong>Controller Service API: </strong><br/>SSLContextService<br/><strong>Implementations: </strong><a href="../../../nifi-ssl-context-service-nar/1.17.0/org.apache.nifi.ssl.StandardRestrictedSSLContextService/index.html">StandardRestrictedSSLContextService</a><br/><a href="../../../nifi-ssl-context-service-nar/1.17.0/org.apache.nifi.ssl.StandardSSLContextService/index.html">StandardSSLContextService</a></td><td id="description">The SSL Context Service used to provide client certificate information for TLS/SSL connections.</td></tr></table><h3>Dynamic Properties: </h3><p>Supports Sensitive Dynamic Properties: <strong>No</strong></p><p>Dynamic Properties allow the user to specify both the name and value of a property.<table id="dynamic-properties"><tr><th>Name</th><th>Value</th><th>Description</th></tr><tr><td id="name">The name of a Connection Factory configuration property.</td><td id="value">The value of a given Connection Factory configuration property.</td><td>Additional configuration property for the Connection Factory. It can be used when the Connection Factory is being configured via the 'JNDI *' or the 'JMS *'properties of the processor. For more information, see the Additional Details page.<br/><strong>Supports Expression Language: true (will be evaluated using variable registry only)</strong></td></tr></table></p><h3>Relationships: </h3><table id="relationships"><tr><th>Name</th><th>Description</th></tr><tr><td>success</td><td>All FlowFiles that are received from the JMS Destination are routed to this relationship</td></tr></table><h3>Reads Attributes: </h3>None specified.<h3>Writes Attributes: </h3><table id="writes-attributes"><tr><th>Name</th><th>Description</th></tr><tr><td>jms_deliveryMode</td><td>The JMSDeliveryMode from the message header.</td></tr><tr><td>jms_expiration</td><td>The JMSExpiration from the message header.</td></tr><tr><td>jms_priority</td><td>The JMSPriority from the message header.</td></tr><tr><td>jms_redelivered</td><td>The JMSRedelivered from the message header.</td></tr><tr><td>jms_timestamp</td><td>The JMSTimestamp from the message header.</td></tr><tr><td>jms_correlationId</td><td>The JMSCorrelationID from the message header.</td></tr><tr><td>jms_messageId</td><td>The JMSMessageID from the message header.</td></tr><tr><td>jms_type</td><td>The JMSType from the message header.</td></tr><tr><td>jms_replyTo</td><td>The JMSReplyTo from the message header.</td></tr><tr><td>jms_destination</td><td>The JMSDestination from the message header.</td></tr><tr><td>jms.messagetype</td><td>The JMS message type, can be TextMessage, BytesMessage, ObjectMessage, MapMessage or StreamMessage).</td></tr><tr><td>other attributes</td><td>Each message property is written to an attribute.</td></tr></table><h3>State management: </h3>This component does not store state.<h3>Restricted: </h3>This component is not restricted.<h3>Input requirement: </h3>This component does not allow an incoming relationship.<h3>System Resource Considerations:</h3>None specified.<h3>See Also:</h3><p><a href="../org.apache.nifi.jms.processors.PublishJMS/index.html">PublishJMS</a>, <a href="../org.apache.nifi.jms.cf.JMSConnectionFactoryProvider/index.html">JMSConnectionFactoryProvider</a></p></body></html>