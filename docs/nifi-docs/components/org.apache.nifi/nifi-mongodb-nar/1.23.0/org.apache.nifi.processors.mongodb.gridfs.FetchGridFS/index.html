<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"></meta><title>FetchGridFS</title><link rel="stylesheet" href="../../../../../css/component-usage.css" type="text/css"></link></head><script type="text/javascript">window.onload = function(){if(self==top) { document.getElementById('nameHeader').style.display = "inherit"; } }</script><body><h1 id="nameHeader" style="display: none;">FetchGridFS</h1><h2>Description: </h2><p>Retrieves one or more files from a GridFS bucket by file name or by a user-defined query.</p><p><a href="additionalDetails.html">Additional Details...</a></p><h3>Tags: </h3><p>fetch, gridfs, mongo</p><h3>Properties: </h3><p>In the list below, the names of required properties appear in <strong>bold</strong>. Any other properties (not in bold) are considered optional. The table also indicates any default values, and whether a property supports the <a href="../../../../../html/expression-language-guide.html">NiFi Expression Language</a>.</p><table id="properties"><tr><th>Display Name</th><th>API Name</th><th>Default Value</th><th>Allowable Values</th><th>Description</th></tr><tr><td id="name"><strong>Client Service</strong></td><td>gridfs-client-service</td><td></td><td id="allowable-values"><strong>Controller Service API: </strong><br/>MongoDBClientService<br/><strong>Implementation: </strong><a href="../../../nifi-mongodb-services-nar/1.23.0/org.apache.nifi.mongodb.MongoDBControllerService/index.html">MongoDBControllerService</a></td><td id="description">The MongoDB client service to use for database connections.</td></tr><tr><td id="name"><strong>Mongo Database Name</strong></td><td>gridfs-database-name</td><td></td><td id="allowable-values"></td><td id="description">The name of the database to use<br/><strong>Supports Expression Language: true (will be evaluated using flow file attributes and variable registry)</strong></td></tr><tr><td id="name">Bucket Name</td><td>gridfs-bucket-name</td><td></td><td id="allowable-values"></td><td id="description">The GridFS bucket where the files will be stored. If left blank, it will use the default value 'fs' that the MongoDB client driver uses.<br/><strong>Supports Expression Language: true (will be evaluated using flow file attributes and variable registry)</strong></td></tr><tr><td id="name">File Name</td><td>gridfs-file-name</td><td></td><td id="allowable-values"></td><td id="description">The name of the file in the bucket that is the target of this processor.<br/><strong>Supports Expression Language: true (will be evaluated using flow file attributes and variable registry)</strong></td></tr><tr><td id="name">Query</td><td>gridfs-query</td><td></td><td id="allowable-values"></td><td id="description">A valid MongoDB query to use to fetch one or more files from GridFS.<br/><strong>Supports Expression Language: true (will be evaluated using flow file attributes and variable registry)</strong></td></tr><tr><td id="name">Query Output Attribute</td><td>mongo-query-attribute</td><td></td><td id="allowable-values"></td><td id="description">If set, the query will be written to a specified attribute on the output flowfiles.<br/><strong>Supports Expression Language: true (will be evaluated using flow file attributes and variable registry)</strong></td></tr><tr><td id="name"><strong>Operation Mode</strong></td><td>mongo-operation-mode</td><td id="default-value">Full Query Fetch</td><td id="allowable-values"><ul><li>Full Query Fetch <img src="../../../../../html/images/iconInfo.png" alt="Fetch the entire query result and then make it available to downstream processors." title="Fetch the entire query result and then make it available to downstream processors."></img></li><li>Stream Query Results <img src="../../../../../html/images/iconInfo.png" alt="As soon as the query start sending results to the downstream processors at regular intervals." title="As soon as the query start sending results to the downstream processors at regular intervals."></img></li></ul></td><td id="description">This option controls when results are made available to downstream processors. If Stream Query Results is enabled, provenance will not be tracked relative to the input flowfile if an input flowfile is received and starts the query. In Stream Query Results mode errors will be handled by sending a new flowfile with the original content and attributes of the input flowfile to the failure relationship. Streaming should only be used if there is reliable connectivity between MongoDB and NiFi.</td></tr></table><h3>Relationships: </h3><table id="relationships"><tr><th>Name</th><th>Description</th></tr><tr><td>success</td><td>When the operation succeeds, the flowfile is sent to this relationship.</td></tr><tr><td>failure</td><td>When there is a failure processing the flowfile, it goes to this relationship.</td></tr><tr><td>original</td><td>The original input flowfile goes to this relationship if the query does not cause an error</td></tr></table><h3>Reads Attributes: </h3>None specified.<h3>Writes Attributes: </h3><table id="writes-attributes"><tr><th>Name</th><th>Description</th></tr><tr><td>gridfs.file.metadata</td><td>The custom metadata stored with a file is attached to this property if it exists.</td></tr></table><h3>State management: </h3>This component does not store state.<h3>Restricted: </h3>This component is not restricted.<h3>Input requirement: </h3>This component requires an incoming relationship.<h3>System Resource Considerations:</h3>None specified.</body></html>