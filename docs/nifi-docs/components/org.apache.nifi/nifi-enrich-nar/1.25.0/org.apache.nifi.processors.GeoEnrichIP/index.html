<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"></meta><title>GeoEnrichIP</title><link rel="stylesheet" href="../../../../../css/component-usage.css" type="text/css"></link></head><script type="text/javascript">window.onload = function(){if(self==top) { document.getElementById('nameHeader').style.display = "inherit"; } }</script><body><h1 id="nameHeader" style="display: none;">GeoEnrichIP</h1><h2>Description: </h2><p>Looks up geolocation information for an IP address and adds the geo information to FlowFile attributes. The geo data is provided as a MaxMind database. The attribute that contains the IP address to lookup is provided by the 'IP Address Attribute' property. If the name of the attribute provided is 'X', then the the attributes added by enrichment will take the form X.geo.&lt;fieldName&gt;</p><h3>Tags: </h3><p>geo, enrich, ip, maxmind</p><h3>Properties: </h3><p>In the list below, the names of required properties appear in <strong>bold</strong>. Any other properties (not in bold) are considered optional. The table also indicates any default values, and whether a property supports the <a href="../../../../../html/expression-language-guide.html">NiFi Expression Language</a>.</p><table id="properties"><tr><th>Display Name</th><th>API Name</th><th>Default Value</th><th>Allowable Values</th><th>Description</th></tr><tr><td id="name"><strong>MaxMind Database File</strong></td><td>Geo Database File</td><td></td><td id="allowable-values"></td><td id="description">Path to Maxmind IP Enrichment Database File<br/><br/><strong>This property requires exactly one resource to be provided. That resource may be any of the following types: directory, file.</strong><br/><br/><strong>Supports Expression Language: true (will be evaluated using variable registry only)</strong></td></tr><tr><td id="name"><strong>IP Address Attribute</strong></td><td>IP Address Attribute</td><td></td><td id="allowable-values"></td><td id="description">The name of an attribute whose value is a dotted decimal IP address for which enrichment should occur<br/><strong>Supports Expression Language: true (will be evaluated using flow file attributes and variable registry)</strong></td></tr><tr><td id="name"><strong>Log Level</strong></td><td>Log Level</td><td id="default-value">WARN</td><td id="allowable-values"></td><td id="description">The Log Level to use when an IP is not found in the database. Accepted values: INFO, DEBUG, WARN, ERROR.<br/><strong>Supports Expression Language: true (will be evaluated using flow file attributes and variable registry)</strong></td></tr></table><h3>Relationships: </h3><table id="relationships"><tr><th>Name</th><th>Description</th></tr><tr><td>not found</td><td>Where to route flow files after unsuccessfully enriching attributes because no data was found</td></tr><tr><td>found</td><td>Where to route flow files after successfully enriching attributes with data provided by database</td></tr></table><h3>Reads Attributes: </h3>None specified.<h3>Writes Attributes: </h3><table id="writes-attributes"><tr><th>Name</th><th>Description</th></tr><tr><td>X.geo.lookup.micros</td><td>The number of microseconds that the geo lookup took</td></tr><tr><td>X.geo.city</td><td>The city identified for the IP address</td></tr><tr><td>X.geo.accuracy</td><td>The accuracy radius if provided by the database (in Kilometers)</td></tr><tr><td>X.geo.latitude</td><td>The latitude identified for this IP address</td></tr><tr><td>X.geo.longitude</td><td>The longitude identified for this IP address</td></tr><tr><td>X.geo.subdivision.N</td><td>Each subdivision that is identified for this IP address is added with a one-up number appended to the attribute name, starting with 0</td></tr><tr><td>X.geo.subdivision.isocode.N</td><td>The ISO code for the subdivision that is identified by X.geo.subdivision.N</td></tr><tr><td>X.geo.country</td><td>The country identified for this IP address</td></tr><tr><td>X.geo.country.isocode</td><td>The ISO Code for the country identified</td></tr><tr><td>X.geo.postalcode</td><td>The postal code for the country identified</td></tr></table><h3>State management: </h3>This component does not store state.<h3>Restricted: </h3>This component is not restricted.<h3>Input requirement: </h3>This component requires an incoming relationship.<h3>System Resource Considerations:</h3>None specified.</body></html>