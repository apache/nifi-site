<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"></meta><title>PutAzureCosmosDBRecord</title><link rel="stylesheet" href="../../../../../css/component-usage.css" type="text/css"></link></head><script type="text/javascript">window.onload = function(){if(self==top) { document.getElementById('nameHeader').style.display = "inherit"; } }</script><body><h1 id="nameHeader" style="display: none;">PutAzureCosmosDBRecord</h1><h2>Description: </h2><p>This processor is a record-aware processor for inserting data into Cosmos DB with Core SQL API. It uses a configured record reader and schema to read an incoming record set from the body of a Flowfile and then inserts those records into a configured Cosmos DB Container.</p><h3>Tags: </h3><p>azure, cosmos, insert, record, put</p><h3>Properties: </h3><p>In the list below, the names of required properties appear in <strong>bold</strong>. Any other properties (not in bold) are considered optional. The table also indicates any default values, and whether a property is considered "sensitive", meaning that its value will be encrypted. Before entering a value in a sensitive property, ensure that the <strong>nifi.properties</strong> file has an entry for the property <strong>nifi.sensitive.props.key</strong>.</p><table id="properties"><tr><th>Name</th><th>Default Value</th><th>Allowable Values</th><th>Description</th></tr><tr><td id="name">Cosmos DB Connection Service</td><td></td><td id="allowable-values"><strong>Controller Service API: </strong><br/>AzureCosmosDBConnectionService<br/><strong>Implementation: </strong><a href="../org.apache.nifi.services.azure.cosmos.document.AzureCosmosDBClientService/index.html">AzureCosmosDBClientService</a></td><td id="description">If configured, the controller service used to obtain the connection string and access key</td></tr><tr><td id="name">Cosmos DB URI</td><td></td><td id="allowable-values"></td><td id="description">Cosmos DB URI, typically in the form of https://{databaseaccount}.documents.azure.com:443/ Note this host URL is for Cosmos DB with Core SQL API from Azure Portal (Overview-&gt;URI)<br/><strong>Sensitive Property: true</strong></td></tr><tr><td id="name">Cosmos DB Access Key</td><td></td><td id="allowable-values"></td><td id="description">Cosmos DB Access Key from Azure Portal (Settings-&gt;Keys). Choose a read-write key to enable database or container creation at run time<br/><strong>Sensitive Property: true</strong></td></tr><tr><td id="name">Cosmos DB Consistency Level</td><td id="default-value">SESSION</td><td id="allowable-values"><ul><li>STRONG</li><li>BOUNDED_STALENESS</li><li>SESSION</li><li>CONSISTENT_PREFIX</li><li>EVENTUAL</li></ul></td><td id="description">Choose from five consistency levels on the consistency spectrum. Refer to Cosmos DB documentation for their differences</td></tr><tr><td id="name"><strong>Cosmos DB Name</strong></td><td></td><td id="allowable-values"></td><td id="description">The database name or id. This is used as the namespace for document collections or containers</td></tr><tr><td id="name"><strong>Cosmos DB Container ID</strong></td><td></td><td id="allowable-values"></td><td id="description">The unique identifier for the container</td></tr><tr><td id="name"><strong>Cosmos DB Partition Key</strong></td><td></td><td id="allowable-values"></td><td id="description">The partition key used to distribute data among servers</td></tr><tr><td id="name"><strong>Record Reader</strong></td><td></td><td id="allowable-values"><strong>Controller Service API: </strong><br/>RecordReaderFactory<br/><strong>Implementations: </strong><a href="../../../nifi-record-serialization-services-nar/1.17.0/org.apache.nifi.grok.GrokReader/index.html">GrokReader</a><br/><a href="../../../nifi-record-serialization-services-nar/1.17.0/org.apache.nifi.json.JsonTreeReader/index.html">JsonTreeReader</a><br/><a href="../../../nifi-parquet-nar/1.17.0/org.apache.nifi.parquet.ParquetReader/index.html">ParquetReader</a><br/><a href="../../../nifi-record-serialization-services-nar/1.17.0/org.apache.nifi.lookup.ReaderLookup/index.html">ReaderLookup</a><br/><a href="../../../nifi-record-serialization-services-nar/1.17.0/org.apache.nifi.windowsevent.WindowsEventLogReader/index.html">WindowsEventLogReader</a><br/><a href="../../../nifi-record-serialization-services-nar/1.17.0/org.apache.nifi.cef.CEFReader/index.html">CEFReader</a><br/><a href="../../../nifi-record-serialization-services-nar/1.17.0/org.apache.nifi.syslog.SyslogReader/index.html">SyslogReader</a><br/><a href="../../../nifi-record-serialization-services-nar/1.17.0/org.apache.nifi.avro.AvroReader/index.html">AvroReader</a><br/><a href="../../../nifi-record-serialization-services-nar/1.17.0/org.apache.nifi.xml.XMLReader/index.html">XMLReader</a><br/><a href="../../../nifi-scripting-nar/1.17.0/org.apache.nifi.record.script.ScriptedReader/index.html">ScriptedReader</a><br/><a href="../../../nifi-record-serialization-services-nar/1.17.0/org.apache.nifi.json.JsonPathReader/index.html">JsonPathReader</a><br/><a href="../../../nifi-record-serialization-services-nar/1.17.0/org.apache.nifi.syslog.Syslog5424Reader/index.html">Syslog5424Reader</a><br/><a href="../../../nifi-record-serialization-services-nar/1.17.0/org.apache.nifi.csv.CSVReader/index.html">CSVReader</a></td><td id="description">Specifies the Controller Service to use for parsing incoming data and determining the data's schema</td></tr><tr><td id="name">Insert Batch Size</td><td id="default-value">20</td><td id="allowable-values"></td><td id="description">The number of records to group together for one single insert operation against Cosmos DB</td></tr><tr><td id="name">Cosmos DB Conflict Handling Strategy</td><td id="default-value">Ignore</td><td id="allowable-values"><ul><li>Ignore <img src="../../../../../html/images/iconInfo.png" alt="Conflicting records will not be inserted, and FlowFile will not be routed to failure" title="Conflicting records will not be inserted, and FlowFile will not be routed to failure"></img></li><li>Upsert <img src="../../../../../html/images/iconInfo.png" alt="Conflicting records will be upserted, and FlowFile will not be routed to failure" title="Conflicting records will be upserted, and FlowFile will not be routed to failure"></img></li></ul></td><td id="description">Choose whether to ignore or upsert when conflict error occurs during insertion</td></tr></table><h3>Relationships: </h3><table id="relationships"><tr><th>Name</th><th>Description</th></tr><tr><td>success</td><td>All FlowFiles that are written to Cosmos DB are routed to this relationship</td></tr><tr><td>failure</td><td>All FlowFiles that cannot be written to Cosmos DB are routed to this relationship</td></tr></table><h3>Reads Attributes: </h3>None specified.<h3>Writes Attributes: </h3>None specified.<h3>State management: </h3>This component does not store state.<h3>Restricted: </h3>This component is not restricted.<h3>Input requirement: </h3>This component requires an incoming relationship.<h3>System Resource Considerations:</h3><table id="system-resource-considerations"><tr><th>Resource</th><th>Description</th></tr><tr><td>MEMORY</td><td>An instance of this component can cause high usage of this system resource.  Multiple instances or high concurrency settings may result a degradation of performance.</td></tr></table></body></html>