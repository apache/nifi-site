<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"></meta><title>ModifyCompression</title><link rel="stylesheet" href="../../../../../css/component-usage.css" type="text/css"></link></head><script type="text/javascript">window.onload = function(){if(self==top) { document.getElementById('nameHeader').style.display = "inherit"; } }</script><body><h1 id="nameHeader" style="display: none;">ModifyCompression</h1><h2>Description: </h2><p>Changes the compression algorithm used to compress the contents of a FlowFile by decompressing the contents of FlowFiles using a user-specified compression algorithm and recompressing the contents using the specified compression format properties. This processor operates in a very memory efficient way so very large objects well beyond the heap size are generally fine to process</p><h3>Tags: </h3><p>content, compress, recompress, gzip, bzip2, lzma, xz-lzma2, snappy, snappy-hadoop, snappy framed, lz4-framed, deflate, zstd, brotli</p><h3>Properties: </h3><p>In the list below, the names of required properties appear in <strong>bold</strong>. Any other properties (not in bold) are considered optional. The table also indicates any default values.</p><table id="properties"><tr><th>Display Name</th><th>API Name</th><th>Default Value</th><th>Allowable Values</th><th>Description</th></tr><tr><td id="name"><strong>Input Compression Strategy</strong></td><td>Input Compression Strategy</td><td id="default-value">no compression</td><td id="allowable-values"><ul><li>no compression <img src="../../../../../html/images/iconInfo.png" alt="No Compression" title="No Compression"></img></li><li>use mime.type attribute <img src="../../../../../html/images/iconInfo.png" alt="Use the [mime.type] attribute from the input FlowFile to determine the format" title="Use the [mime.type] attribute from the input FlowFile to determine the format"></img></li><li>gzip <img src="../../../../../html/images/iconInfo.png" alt="GZIP" title="GZIP"></img></li><li>deflate <img src="../../../../../html/images/iconInfo.png" alt="Deflate" title="Deflate"></img></li><li>bzip2 <img src="../../../../../html/images/iconInfo.png" alt="BZIP2" title="BZIP2"></img></li><li>xz-lzma2 <img src="../../../../../html/images/iconInfo.png" alt="XZ-LZMA2" title="XZ-LZMA2"></img></li><li>lzma <img src="../../../../../html/images/iconInfo.png" alt="LZMA" title="LZMA"></img></li><li>snappy <img src="../../../../../html/images/iconInfo.png" alt="Snappy" title="Snappy"></img></li><li>snappy-framed <img src="../../../../../html/images/iconInfo.png" alt="Snappy-Framed" title="Snappy-Framed"></img></li><li>lz4-framed <img src="../../../../../html/images/iconInfo.png" alt="LZ4" title="LZ4"></img></li><li>zstd <img src="../../../../../html/images/iconInfo.png" alt="ZSTD" title="ZSTD"></img></li><li>brotli <img src="../../../../../html/images/iconInfo.png" alt="Brotli" title="Brotli"></img></li></ul></td><td id="description">The strategy to use for decompressing input FlowFiles</td></tr><tr><td id="name"><strong>Output Compression Strategy</strong></td><td>Output Compression Strategy</td><td id="default-value">no compression</td><td id="allowable-values"><ul><li>no compression <img src="../../../../../html/images/iconInfo.png" alt="No Compression" title="No Compression"></img></li><li>gzip <img src="../../../../../html/images/iconInfo.png" alt="GZIP" title="GZIP"></img></li><li>deflate <img src="../../../../../html/images/iconInfo.png" alt="Deflate" title="Deflate"></img></li><li>bzip2 <img src="../../../../../html/images/iconInfo.png" alt="BZIP2" title="BZIP2"></img></li><li>xz-lzma2 <img src="../../../../../html/images/iconInfo.png" alt="XZ-LZMA2" title="XZ-LZMA2"></img></li><li>lzma <img src="../../../../../html/images/iconInfo.png" alt="LZMA" title="LZMA"></img></li><li>snappy <img src="../../../../../html/images/iconInfo.png" alt="Snappy" title="Snappy"></img></li><li>snappy-hadoop <img src="../../../../../html/images/iconInfo.png" alt="Snappy-Hadoop" title="Snappy-Hadoop"></img></li><li>snappy-framed <img src="../../../../../html/images/iconInfo.png" alt="Snappy-Framed" title="Snappy-Framed"></img></li><li>lz4-framed <img src="../../../../../html/images/iconInfo.png" alt="LZ4" title="LZ4"></img></li><li>zstd <img src="../../../../../html/images/iconInfo.png" alt="ZSTD" title="ZSTD"></img></li><li>brotli <img src="../../../../../html/images/iconInfo.png" alt="Brotli" title="Brotli"></img></li></ul></td><td id="description">The strategy to use for compressing output FlowFiles</td></tr><tr><td id="name"><strong>Output Compression Level</strong></td><td>Output Compression Level</td><td id="default-value">1</td><td id="allowable-values"><ul><li>0</li><li>1</li><li>2</li><li>3</li><li>4</li><li>5</li><li>6</li><li>7</li><li>8</li><li>9</li></ul></td><td id="description">The compression level for output FlowFiles for supported formats. A lower value results in faster processing but less compression; a value of 0 indicates no (that is, simple archiving) for gzip or minimal for xz-lzma2 compression. Higher levels can mean much larger memory usage such as the case with levels 7-9 for xz-lzma/2 so be careful relative to heap size.<br/><br/><strong>This Property is only considered if </strong><strong>the [Output Compression Strategy] Property is set to one of the following values: [zstd], [deflate], [brotli], [gzip], [xz-lzma2]</strong></td></tr><tr><td id="name"><strong>Output Filename Strategy</strong></td><td>Output Filename Strategy</td><td id="default-value">Updated</td><td id="allowable-values"><ul><li>Original <img src="../../../../../html/images/iconInfo.png" alt="Retain the filename attribute value from the input FlowFile" title="Retain the filename attribute value from the input FlowFile"></img></li><li>Updated <img src="../../../../../html/images/iconInfo.png" alt="Remove the filename extension when decompressing and add a new extension for compressed output FlowFiles" title="Remove the filename extension when decompressing and add a new extension for compressed output FlowFiles"></img></li></ul></td><td id="description">Processing strategy for filename attribute on output FlowFiles</td></tr></table><h3>Relationships: </h3><table id="relationships"><tr><th>Name</th><th>Description</th></tr><tr><td>failure</td><td>FlowFiles will be transferred to the failure relationship on compression modification errors</td></tr><tr><td>success</td><td>FlowFiles will be transferred to the success relationship on compression modification success</td></tr></table><h3>Reads Attributes: </h3><table id="reads-attributes"><tr><th>Name</th><th>Description</th></tr><tr><td>mime.type</td><td>If the Decompression Format is set to 'use mime.type attribute', this attribute is used to determine the decompression type. Otherwise, this attribute is ignored.</td></tr></table><h3>Writes Attributes: </h3><table id="writes-attributes"><tr><th>Name</th><th>Description</th></tr><tr><td>mime.type</td><td>The appropriate MIME Type is set based on the value of the Compression Format property. If the Compression Format is 'no compression' this attribute is removed as the MIME Type is no longer known.</td></tr></table><h3>State management: </h3>This component does not store state.<h3>Restricted: </h3>This component is not restricted.<h3>Input requirement: </h3>This component requires an incoming relationship.<h3>System Resource Considerations:</h3><table id="system-resource-considerations"><tr><th>Resource</th><th>Description</th></tr><tr><td>CPU</td><td>An instance of this component can cause high usage of this system resource.  Multiple instances or high concurrency settings may result a degradation of performance.</td></tr><tr><td>MEMORY</td><td>An instance of this component can cause high usage of this system resource.  Multiple instances or high concurrency settings may result a degradation of performance.</td></tr></table></body></html>