<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"></meta><title>QueryNiFiReportingTask</title><link rel="stylesheet" href="../../../../../css/component-usage.css" type="text/css"></link></head><script type="text/javascript">window.onload = function(){if(self==top) { document.getElementById('nameHeader').style.display = "inherit"; } }</script><body><h1 id="nameHeader" style="display: none;">QueryNiFiReportingTask</h1><h2>Description: </h2><p>Publishes NiFi status information based on the results of a user-specified SQL query. The query may make use of the CONNECTION_STATUS, PROCESSOR_STATUS, BULLETINS, PROCESS_GROUP_STATUS, JVM_METRICS, CONNECTION_STATUS_PREDICTIONS, FLOW_CONFIG_HISTORY, or PROVENANCE tables, and can use any functions or capabilities provided by Apache Calcite. Note that the CONNECTION_STATUS_PREDICTIONS table is not available for querying if analytics are not enabled (see the nifi.analytics.predict.enabled property in nifi.properties). Attempting a query on the table when the capability is disabled will cause an error.</p><p><a href="additionalDetails.html">Additional Details...</a></p><h3>Tags: </h3><p>status, connection, processor, jvm, metrics, history, bulletin, prediction, process, group, provenance, record, sql, flow, config</p><h3>Properties: </h3><p>In the list below, the names of required properties appear in <strong>bold</strong>. Any other properties (not in bold) are considered optional. The table also indicates any default values, and whether a property supports the <a href="../../../../../html/expression-language-guide.html">NiFi Expression Language</a>.</p><table id="properties"><tr><th>Display Name</th><th>API Name</th><th>Default Value</th><th>Allowable Values</th><th>Description</th></tr><tr><td id="name"><strong>SQL Query</strong></td><td>sql-reporting-query</td><td></td><td id="allowable-values"></td><td id="description">SQL SELECT statement specifies which tables to query and how data should be filtered/transformed. SQL SELECT can select from the CONNECTION_STATUS, PROCESSOR_STATUS, BULLETINS, PROCESS_GROUP_STATUS, JVM_METRICS, CONNECTION_STATUS_PREDICTIONS, or PROVENANCE tables. Note that the CONNECTION_STATUS_PREDICTIONS table is not available for querying if analytics are not enabled).<br/><strong>Supports Expression Language: true (will be evaluated using Environment variables only)</strong></td></tr><tr><td id="name"><strong>Record Destination Service</strong></td><td>sql-reporting-record-sink</td><td></td><td id="allowable-values"><strong>Controller Service API: </strong><br/>RecordSinkService<br/><strong>Implementations: </strong><a href="../../../nifi-record-sink-service-nar/2.0.0-M2/org.apache.nifi.record.sink.lookup.RecordSinkServiceLookup/index.html">RecordSinkServiceLookup</a><br/><a href="../../../nifi-kafka-2-6-nar/2.0.0-M2/org.apache.nifi.record.sink.kafka.KafkaRecordSink_2_6/index.html">KafkaRecordSink_2_6</a><br/><a href="../../../nifi-zendesk-services-nar/2.0.0-M2/org.apache.nifi.services.zendesk.ZendeskRecordSink/index.html">ZendeskRecordSink</a><br/><a href="../../../nifi-azure-nar/2.0.0-M2/org.apache.nifi.services.azure.eventhub.AzureEventHubRecordSink/index.html">AzureEventHubRecordSink</a><br/><a href="../../../nifi-record-sink-service-nar/2.0.0-M2/org.apache.nifi.record.sink.EmailRecordSink/index.html">EmailRecordSink</a><br/><a href="../../../nifi-scripting-nar/2.0.0-M2/org.apache.nifi.record.sink.script.ScriptedRecordSink/index.html">ScriptedRecordSink</a><br/><a href="../../../nifi-dbcp-service-nar/2.0.0-M2/org.apache.nifi.record.sink.db.DatabaseRecordSink/index.html">DatabaseRecordSink</a><br/><a href="../../../nifi-site-to-site-reporting-nar/2.0.0-M2/org.apache.nifi.reporting.sink.SiteToSiteReportingRecordSink/index.html">SiteToSiteReportingRecordSink</a><br/><a href="../../../nifi-prometheus-nar/2.0.0-M2/org.apache.nifi.reporting.prometheus.PrometheusRecordSink/index.html">PrometheusRecordSink</a><br/><a href="../../../nifi-record-sink-service-nar/2.0.0-M2/org.apache.nifi.record.sink.LoggingRecordSink/index.html">LoggingRecordSink</a><br/><a href="../../../nifi-record-sink-service-nar/2.0.0-M2/org.apache.nifi.record.sink.event.UDPEventRecordSink/index.html">UDPEventRecordSink</a><br/><a href="../../../nifi-slack-nar/2.0.0-M2/org.apache.nifi.services.slack.SlackRecordSink/index.html">SlackRecordSink</a></td><td id="description">Specifies the Controller Service to use for writing out the query result records to some destination.</td></tr><tr><td id="name"><strong>Include Zero Record Results</strong></td><td>sql-reporting-include-zero-record-results</td><td id="default-value">false</td><td id="allowable-values"><ul><li>true</li><li>false</li></ul></td><td id="description">When running the SQL statement, if the result has no data, this property specifies whether or not the empty result set will be transmitted.</td></tr><tr><td id="name"><strong>Default Decimal Precision</strong></td><td>dbf-default-precision</td><td id="default-value">10</td><td id="allowable-values"></td><td id="description">When a DECIMAL/NUMBER value is written as a 'decimal' Avro logical type, a specific 'precision' denoting number of available digits is required. Generally, precision is defined by column data type definition or database engines default. However undefined precision (0) can be returned from some database engines. 'Default Decimal Precision' is used when writing those undefined precision numbers.<br/><strong>Supports Expression Language: true (will be evaluated using Environment variables only)</strong></td></tr><tr><td id="name"><strong>Default Decimal Scale</strong></td><td>dbf-default-scale</td><td id="default-value">0</td><td id="allowable-values"></td><td id="description">When a DECIMAL/NUMBER value is written as a 'decimal' Avro logical type, a specific 'scale' denoting number of available decimal digits is required. Generally, scale is defined by column data type definition or database engines default. However when undefined precision (0) is returned, scale can also be uncertain with some database engines. 'Default Decimal Scale' is used when writing those undefined numbers. If a value has more decimals than specified scale, then the value will be rounded-up, e.g. 1.53 becomes 2 with scale 0, and 1.5 with scale 1.<br/><strong>Supports Expression Language: true (will be evaluated using Environment variables only)</strong></td></tr></table><h3>State management: </h3><table id="stateful"><tr><th>Scope</th><th>Description</th></tr><tr><td>LOCAL</td><td>Stores the Reporting Task's last execution time so that on restart the task knows where it left off.</td></tr></table><h3>Restricted: </h3>This component is not restricted.<h3>System Resource Considerations:</h3>None specified.</body></html>