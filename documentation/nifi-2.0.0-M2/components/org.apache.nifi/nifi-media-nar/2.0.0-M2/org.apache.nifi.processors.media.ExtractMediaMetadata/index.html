<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"></meta><title>ExtractMediaMetadata</title><link rel="stylesheet" href="../../../../../css/component-usage.css" type="text/css"></link></head><script type="text/javascript">window.onload = function(){if(self==top) { document.getElementById('nameHeader').style.display = "inherit"; } }</script><body><h1 id="nameHeader" style="display: none;">ExtractMediaMetadata</h1><h2>Description: </h2><p>Extract the content metadata from flowfiles containing audio, video, image, and other file types.  This processor relies on the Apache Tika project for file format detection and parsing.  It extracts a long list of metadata types for media files including audio, video, and print media formats.NOTE: the attribute names and content extracted may vary across upgrades because parsing is performed by the external Tika tools which in turn depend on other projects for metadata extraction.  For the more details and the list of supported file types, visit the library's website at http://tika.apache.org/.</p><h3>Tags: </h3><p>media, file, format, metadata, audio, video, image, document, pdf</p><h3>Properties: </h3><p>In the list below, the names of required properties appear in <strong>bold</strong>. Any other properties (not in bold) are considered optional. The table also indicates any default values, and whether a property supports the <a href="../../../../../html/expression-language-guide.html">NiFi Expression Language</a>.</p><table id="properties"><tr><th>Display Name</th><th>API Name</th><th>Default Value</th><th>Allowable Values</th><th>Description</th></tr><tr><td id="name">Max Number of Attributes</td><td>Max Number of Attributes</td><td id="default-value">100</td><td id="allowable-values"></td><td id="description">Specify the max number of attributes to add to the flowfile. There is no guarantee in what order the tags will be processed. By default it will process all of them.</td></tr><tr><td id="name"><strong>Max Attribute Length</strong></td><td>Max Attribute Length</td><td id="default-value">100</td><td id="allowable-values"></td><td id="description">Specifies the maximum length of a single attribute value.  When a metadata item has multiple values, they will be merged until this length is reached and then ", ..." will be added as an indicator that additional values where dropped.  If a single value is longer than this, it will be truncated and "(truncated)" appended to indicate that truncation occurred.</td></tr><tr><td id="name">Metadata Key Filter</td><td>Metadata Key Filter</td><td></td><td id="allowable-values"></td><td id="description">A regular expression identifying which metadata keys received from the parser should be added to the flowfile attributes.  If left blank, all metadata keys parsed will be added to the flowfile attributes.</td></tr><tr><td id="name">Metadata Key Prefix</td><td>Metadata Key Prefix</td><td></td><td id="allowable-values"></td><td id="description">Text to be prefixed to metadata keys as the are added to the flowfile attributes.  It is recommended to end with with a separator character like '.' or '-', this is not automatically  added by the processor.<br/><strong>Supports Expression Language: true (will be evaluated using flow file attributes and Environment variables)</strong></td></tr></table><h3>Relationships: </h3><table id="relationships"><tr><th>Name</th><th>Description</th></tr><tr><td>success</td><td>Any FlowFile that successfully has media metadata extracted will be routed to success</td></tr><tr><td>failure</td><td>Any FlowFile that fails to have media metadata extracted will be routed to failure</td></tr></table><h3>Reads Attributes: </h3>None specified.<h3>Writes Attributes: </h3><table id="writes-attributes"><tr><th>Name</th><th>Description</th></tr><tr><td>&lt;Metadata Key Prefix&gt;&lt;attribute&gt;</td><td>The extracted content metadata will be inserted with the attribute name "&lt;Metadata Key Prefix&gt;&lt;attribute&gt;", or "&lt;attribute&gt;" if "Metadata Key Prefix" is not provided.</td></tr></table><h3>State management: </h3>This component does not store state.<h3>Restricted: </h3>This component is not restricted.<h3>Input requirement: </h3>This component requires an incoming relationship.<h3>System Resource Considerations:</h3>None specified.</body></html>