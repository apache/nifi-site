<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"></meta><title>PackageFlowFile</title><link rel="stylesheet" href="../../../../../css/component-usage.css" type="text/css"></link></head><script type="text/javascript">window.onload = function(){if(self==top) { document.getElementById('nameHeader').style.display = "inherit"; } }</script><body><h1 id="nameHeader" style="display: none;">PackageFlowFile</h1><h2>Description: </h2><p>This processor will package FlowFile attributes and content into an output FlowFile that can be exported from NiFi and imported back into NiFi, preserving the original attributes and content.</p><h3>Tags: </h3><p>flowfile, flowfile-stream, flowfile-stream-v3, package, attributes</p><h3>Properties: </h3><p>In the list below, the names of required properties appear in <strong>bold</strong>. Any other properties (not in bold) are considered optional. The table also indicates any default values.</p><table id="properties"><tr><th>Display Name</th><th>API Name</th><th>Default Value</th><th>Allowable Values</th><th>Description</th></tr><tr><td id="name"><strong>Maximum Batch Size</strong></td><td>max-batch-size</td><td id="default-value">1</td><td id="allowable-values"></td><td id="description">Maximum number of FlowFiles to package into one output FlowFile using a best effort, non guaranteed approach. Multiple input queues can produce unexpected batching behavior.</td></tr></table><h3>Relationships: </h3><table id="relationships"><tr><th>Name</th><th>Description</th></tr><tr><td>original</td><td>The FlowFiles that were used to create the package are sent to this relationship</td></tr><tr><td>success</td><td>The packaged FlowFile is sent to this relationship</td></tr></table><h3>Reads Attributes: </h3>None specified.<h3>Writes Attributes: </h3><table id="writes-attributes"><tr><th>Name</th><th>Description</th></tr><tr><td>mime.type</td><td>The mime.type will be changed to application/flowfile-v3</td></tr></table><h3>State management: </h3>This component does not store state.<h3>Restricted: </h3>This component is not restricted.<h3>Input requirement: </h3>This component requires an incoming relationship.<h2>Example Use Cases Involving Other Components:</h2><h3>Use Case:</h3><p>Send FlowFile content and attributes from one NiFi instance to another NiFi instance.</p><h4>Notes:</h4><p>A Remote Process Group is preferred to send FlowFiles between two NiFi instances, but an alternative is to use PackageFlowFile then InvokeHTTP sending to ListenHTTP.</p><h4>Keywords:</h4>flowfile, attributes, content, ffv3, flowfile-stream-v3, transfer<h4>Components involved:</h4><strong>Component Type: </strong><span>org.apache.nifi.processors.standard.PackageFlowFile</span><h4>Configuration:</h4><p>    "Maximum Batch Size" &gt; 1 can help improve performance by batching many flowfiles together into 1 larger file that is transmitted by InvokeHTTP.</p><p></p><p>    Connect the success relationship of PackageFlowFile to the input of InvokeHTTP.</p><br></br><strong>Component Type: </strong><span>org.apache.nifi.processors.standard.InvokeHTTP</span><h4>Configuration:</h4><p>    "HTTP Method" = "POST" to send data to ListenHTTP.</p><p>    "HTTP URL" should include the hostname, port, and path to the ListenHTTP.</p><p>    "Request Content-Type" = "${mime.type}" because PackageFlowFile output files have attribute mime.type=application/flowfile-v3.</p><br></br><strong>Component Type: </strong><span>org.apache.nifi.processors.standard.ListenHTTP</span><h4>Configuration:</h4><p>    "Listening Port" = a unique port number.</p><p></p><p>    ListenHTTP automatically unpacks files that have attribute mime.type=application/flowfile-v3.</p><p>    If PackageFlowFile batches 99 FlowFiles into 1 file that InvokeHTTP sends, then the original 99 FlowFiles will be output by ListenHTTP.</p><br></br><br></br><h3>Use Case:</h3><p>Export FlowFile content and attributes from NiFi to external storage and reimport.</p><h4>Keywords:</h4>flowfile, attributes, content, ffv3, flowfile-stream-v3, offline, storage<h4>Components involved:</h4><strong>Component Type: </strong><span>org.apache.nifi.processors.standard.PackageFlowFile</span><h4>Configuration:</h4><p>    "Maximum Batch Size" &gt; 1 can improve storage efficiency by batching many FlowFiles together into 1 larger file that is stored.</p><p></p><p>    Connect the success relationship to the input of any NiFi egress processor for offline storage.</p><br></br><strong>Component Type: </strong><span>org.apache.nifi.processors.standard.UnpackContent</span><h4>Configuration:</h4><p>    "Packaging Format" = "application/flowfile-v3".</p><p></p><p>    Connect the output of a NiFi ingress processor that reads files stored offline to the input of UnpackContent.</p><p>    If PackageFlowFile batches 99 FlowFiles into 1 file that is read from storage, then the original 99 FlowFiles will be output by UnpackContent.</p><br></br><br></br><h3>System Resource Considerations:</h3>None specified.<h3>See Also:</h3><p><a href="../org.apache.nifi.processors.standard.UnpackContent/index.html">UnpackContent</a>, <a href="../org.apache.nifi.processors.standard.MergeContent/index.html">MergeContent</a></p></body></html>