<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"></meta><title>PublishGCPubSub</title><link rel="stylesheet" href="../../../../../css/component-usage.css" type="text/css"></link></head><script type="text/javascript">window.onload = function(){if(self==top) { document.getElementById('nameHeader').style.display = "inherit"; } }</script><body><h1 id="nameHeader" style="display: none;">PublishGCPubSub</h1><h2>Description: </h2><p>Publishes the content of the incoming flowfile to the configured Google Cloud PubSub topic. The processor supports dynamic properties. If any dynamic properties are present, they will be sent along with the message in the form of 'attributes'.</p><h3>Tags: </h3><p>google, google-cloud, gcp, message, pubsub, publish</p><h3>Properties: </h3><p>In the list below, the names of required properties appear in <strong>bold</strong>. Any other properties (not in bold) are considered optional. The table also indicates any default values, and whether a property supports the <a href="../../../../../html/expression-language-guide.html">NiFi Expression Language</a>.</p><table id="properties"><tr><th>Display Name</th><th>API Name</th><th>Default Value</th><th>Allowable Values</th><th>Description</th></tr><tr><td id="name">Project ID</td><td>gcp-project-id</td><td></td><td id="allowable-values"></td><td id="description">Google Cloud Project ID<br/><strong>Supports Expression Language: true (will be evaluated using Environment variables only)</strong></td></tr><tr><td id="name">Proxy Configuration Service</td><td>proxy-configuration-service</td><td></td><td id="allowable-values"><strong>Controller Service API: </strong><br/>ProxyConfigurationService<br/><strong>Implementation: </strong><a href="../../../nifi-proxy-configuration-nar/2.0.0-M2/org.apache.nifi.proxy.StandardProxyConfigurationService/index.html">StandardProxyConfigurationService</a></td><td id="description">Specifies the Proxy Configuration Controller Service to proxy network requests. If set, it supersedes proxy settings configured per component. Supported proxies: HTTP + AuthN</td></tr><tr><td id="name"><strong>GCP Credentials Provider Service</strong></td><td>GCP Credentials Provider Service</td><td></td><td id="allowable-values"><strong>Controller Service API: </strong><br/>GCPCredentialsService<br/><strong>Implementation: </strong><a href="../org.apache.nifi.processors.gcp.credentials.service.GCPCredentialsControllerService/index.html">GCPCredentialsControllerService</a></td><td id="description">The Controller Service used to obtain Google Cloud Platform credentials.</td></tr><tr><td id="name"><strong>Input Batch Size</strong></td><td>Input Batch Size</td><td id="default-value">100</td><td id="allowable-values"></td><td id="description">Maximum number of FlowFiles processed for each Processor invocation</td></tr><tr><td id="name"><strong>Message Derivation Strategy</strong></td><td>Message Derivation Strategy</td><td id="default-value">FlowFile Oriented</td><td id="allowable-values"><ul><li>FlowFile Oriented <img src="../../../../../html/images/iconInfo.png" alt="Each incoming FlowFile is sent as a Google Cloud PubSub message" title="Each incoming FlowFile is sent as a Google Cloud PubSub message"></img></li><li>Record Oriented <img src="../../../../../html/images/iconInfo.png" alt="Each incoming FlowFile is parsed into NiFi records, which are each sent as a Google Cloud PubSub message" title="Each incoming FlowFile is parsed into NiFi records, which are each sent as a Google Cloud PubSub message"></img></li></ul></td><td id="description">The strategy used to publish the incoming FlowFile to the Google Cloud PubSub endpoint.</td></tr><tr><td id="name"><strong>Record Reader</strong></td><td>Record Reader</td><td></td><td id="allowable-values"><strong>Controller Service API: </strong><br/>RecordReaderFactory<br/><strong>Implementations: </strong><a href="../../../nifi-record-serialization-services-nar/2.0.0-M2/org.apache.nifi.csv.CSVReader/index.html">CSVReader</a><br/><a href="../../../nifi-record-serialization-services-nar/2.0.0-M2/org.apache.nifi.json.JsonPathReader/index.html">JsonPathReader</a><br/><a href="../../../nifi-record-serialization-services-nar/2.0.0-M2/org.apache.nifi.avro.AvroReader/index.html">AvroReader</a><br/><a href="../../../nifi-record-serialization-services-nar/2.0.0-M2/org.apache.nifi.cef.CEFReader/index.html">CEFReader</a><br/><a href="../../../nifi-record-serialization-services-nar/2.0.0-M2/org.apache.nifi.syslog.Syslog5424Reader/index.html">Syslog5424Reader</a><br/><a href="../../../nifi-record-serialization-services-nar/2.0.0-M2/org.apache.nifi.json.JsonTreeReader/index.html">JsonTreeReader</a><br/><a href="../../../nifi-record-serialization-services-nar/2.0.0-M2/org.apache.nifi.windowsevent.WindowsEventLogReader/index.html">WindowsEventLogReader</a><br/><a href="../../../nifi-record-serialization-services-nar/2.0.0-M2/org.apache.nifi.xml.XMLReader/index.html">XMLReader</a><br/><a href="../../../nifi-record-serialization-services-nar/2.0.0-M2/org.apache.nifi.syslog.SyslogReader/index.html">SyslogReader</a><br/><a href="../../../nifi-asn1-nar/2.0.0-M2/org.apache.nifi.jasn1.JASN1Reader/index.html">JASN1Reader</a><br/><a href="../../../nifi-record-serialization-services-nar/2.0.0-M2/org.apache.nifi.lookup.ReaderLookup/index.html">ReaderLookup</a><br/><a href="../../../nifi-parquet-nar/2.0.0-M2/org.apache.nifi.parquet.ParquetReader/index.html">ParquetReader</a><br/><a href="../../../nifi-record-serialization-services-nar/2.0.0-M2/org.apache.nifi.grok.GrokReader/index.html">GrokReader</a><br/><a href="../../../nifi-scripting-nar/2.0.0-M2/org.apache.nifi.record.script.ScriptedReader/index.html">ScriptedReader</a><br/><a href="../../../nifi-record-serialization-services-nar/2.0.0-M2/org.apache.nifi.yaml.YamlTreeReader/index.html">YamlTreeReader</a><br/><a href="../../../nifi-poi-nar/2.0.0-M2/org.apache.nifi.excel.ExcelReader/index.html">ExcelReader</a></td><td id="description">The Record Reader to use for incoming FlowFiles<br/><br/><strong>This Property is only considered if </strong><strong>the [Message Derivation Strategy] Property has a value of "Record Oriented".</strong></td></tr><tr><td id="name"><strong>Record Writer</strong></td><td>Record Writer</td><td></td><td id="allowable-values"><strong>Controller Service API: </strong><br/>RecordSetWriterFactory<br/><strong>Implementations: </strong><a href="../../../nifi-record-serialization-services-nar/2.0.0-M2/org.apache.nifi.xml.XMLRecordSetWriter/index.html">XMLRecordSetWriter</a><br/><a href="../../../nifi-record-serialization-services-nar/2.0.0-M2/org.apache.nifi.text.FreeFormTextRecordSetWriter/index.html">FreeFormTextRecordSetWriter</a><br/><a href="../../../nifi-record-serialization-services-nar/2.0.0-M2/org.apache.nifi.avro.AvroRecordSetWriter/index.html">AvroRecordSetWriter</a><br/><a href="../../../nifi-scripting-nar/2.0.0-M2/org.apache.nifi.record.script.ScriptedRecordSetWriter/index.html">ScriptedRecordSetWriter</a><br/><a href="../../../nifi-record-serialization-services-nar/2.0.0-M2/org.apache.nifi.json.JsonRecordSetWriter/index.html">JsonRecordSetWriter</a><br/><a href="../../../nifi-parquet-nar/2.0.0-M2/org.apache.nifi.parquet.ParquetRecordSetWriter/index.html">ParquetRecordSetWriter</a><br/><a href="../../../nifi-record-serialization-services-nar/2.0.0-M2/org.apache.nifi.lookup.RecordSetWriterLookup/index.html">RecordSetWriterLookup</a><br/><a href="../../../nifi-record-serialization-services-nar/2.0.0-M2/org.apache.nifi.csv.CSVRecordSetWriter/index.html">CSVRecordSetWriter</a></td><td id="description">The Record Writer to use in order to serialize the data before sending to GCPubSub endpoint<br/><br/><strong>This Property is only considered if </strong><strong>the [Message Derivation Strategy] Property has a value of "Record Oriented".</strong></td></tr><tr><td id="name"><strong>Maximum Message Size</strong></td><td>Maximum Message Size</td><td id="default-value">1 MB</td><td id="allowable-values"></td><td id="description">The maximum size of a Google PubSub message in bytes. Defaults to 1 MB (1048576 bytes)<br/><br/><strong>This Property is only considered if </strong><strong>the [Message Derivation Strategy] Property has a value of "FlowFile Oriented".</strong></td></tr><tr><td id="name"><strong>Topic Name</strong></td><td>gcp-pubsub-topic</td><td></td><td id="allowable-values"></td><td id="description">Name of the Google Cloud PubSub Topic<br/><strong>Supports Expression Language: true (will be evaluated using Environment variables only)</strong></td></tr><tr><td id="name"><strong>Batch Size Threshold</strong></td><td>gcp-pubsub-publish-batch-size</td><td id="default-value">15</td><td id="allowable-values"></td><td id="description">Indicates the number of messages the cloud service should bundle together in a batch. If not set and left empty, only one message will be used in a batch</td></tr><tr><td id="name"><strong>Batch Bytes Threshold</strong></td><td>gcp-batch-bytes</td><td id="default-value">3 MB</td><td id="allowable-values"></td><td id="description">Publish request gets triggered based on this Batch Bytes Threshold property and the Batch Size Threshold property, whichever condition is met first.<br/><strong>Supports Expression Language: true (will be evaluated using Environment variables only)</strong></td></tr><tr><td id="name"><strong>Batch Delay Threshold</strong></td><td>gcp-pubsub-publish-batch-delay</td><td id="default-value">100 millis</td><td id="allowable-values"></td><td id="description">Indicates the delay threshold to use for batching. After this amount of time has elapsed (counting from the first element added), the elements will be wrapped up in a batch and sent. This value should not be set too high, usually on the order of milliseconds. Otherwise, calls might appear to never complete.</td></tr><tr><td id="name"><strong>API Endpoint</strong></td><td>api-endpoint</td><td id="default-value">pubsub.googleapis.com:443</td><td id="allowable-values"></td><td id="description">Override the gRPC endpoint in the form of [host:port]<br/><strong>Supports Expression Language: true (will be evaluated using Environment variables only)</strong></td></tr></table><h3>Dynamic Properties: </h3><p>Supports Sensitive Dynamic Properties: <strong>No</strong></p><p>Dynamic Properties allow the user to specify both the name and value of a property.<table id="dynamic-properties"><tr><th>Name</th><th>Value</th><th>Description</th></tr><tr><td id="name">Attribute name</td><td id="value">Value to be set to the attribute</td><td>Attributes to be set for the outgoing Google Cloud PubSub message<br/><strong>Supports Expression Language: true (will be evaluated using flow file attributes and Environment variables)</strong></td></tr></table></p><h3>Relationships: </h3><table id="relationships"><tr><th>Name</th><th>Description</th></tr><tr><td>retry</td><td>FlowFiles are routed to this relationship if the Google Cloud Pub/Sub operation fails but attempting the operation again may succeed.</td></tr><tr><td>success</td><td>FlowFiles are routed to this relationship after a successful Google Cloud Pub/Sub operation.</td></tr><tr><td>failure</td><td>FlowFiles are routed to this relationship if the Google Cloud Pub/Sub operation fails.</td></tr></table><h3>Reads Attributes: </h3>None specified.<h3>Writes Attributes: </h3><table id="writes-attributes"><tr><th>Name</th><th>Description</th></tr><tr><td>gcp.pubsub.messageId</td><td>ID of the pubsub message published to the configured Google Cloud PubSub topic</td></tr><tr><td>gcp.pubsub.count.records</td><td>Count of pubsub messages published to the configured Google Cloud PubSub topic</td></tr><tr><td>gcp.pubsub.topic</td><td>Name of the Google Cloud PubSub topic the message was published to</td></tr></table><h3>State management: </h3>This component does not store state.<h3>Restricted: </h3>This component is not restricted.<h3>Input requirement: </h3>This component requires an incoming relationship.<h3>System Resource Considerations:</h3><table id="system-resource-considerations"><tr><th>Resource</th><th>Description</th></tr><tr><td>MEMORY</td><td>The entirety of the FlowFile's content will be read into memory to be sent as a PubSub message.</td></tr></table><h3>See Also:</h3><p><a href="../org.apache.nifi.processors.gcp.pubsub.ConsumeGCPubSub/index.html">ConsumeGCPubSub</a></p></body></html>