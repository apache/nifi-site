<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"></meta><title>PutIceberg</title><link rel="stylesheet" href="../../../../../css/component-usage.css" type="text/css"></link></head><script type="text/javascript">window.onload = function(){if(self==top) { document.getElementById('nameHeader').style.display = "inherit"; } }</script><body><h1 id="nameHeader" style="display: none;">PutIceberg</h1><h2>Description: </h2><p>This processor uses Iceberg API to parse and load records into Iceberg tables. The incoming data sets are parsed with Record Reader Controller Service and ingested into an Iceberg table using the configured catalog service and provided table information. The target Iceberg table should already exist and it must have matching schemas with the incoming records, which means the Record Reader schema must contain all the Iceberg schema fields, every additional field which is not present in the Iceberg schema will be ignored. To avoid 'small file problem' it is recommended pre-appending a MergeRecord processor.</p><p><a href="additionalDetails.html">Additional Details...</a></p><h3>Tags: </h3><p>iceberg, put, table, store, record, parse, orc, parquet, avro</p><h3>Properties: </h3><p>In the list below, the names of required properties appear in <strong>bold</strong>. Any other properties (not in bold) are considered optional. The table also indicates any default values, and whether a property supports the <a href="../../../../../html/expression-language-guide.html">NiFi Expression Language</a>.</p><table id="properties"><tr><th>Display Name</th><th>API Name</th><th>Default Value</th><th>Allowable Values</th><th>Description</th></tr><tr><td id="name"><strong>Record Reader</strong></td><td>record-reader</td><td></td><td id="allowable-values"><strong>Controller Service API: </strong><br/>RecordReaderFactory<br/><strong>Implementations: </strong><a href="../../../nifi-record-serialization-services-nar/2.0.0-M2/org.apache.nifi.csv.CSVReader/index.html">CSVReader</a><br/><a href="../../../nifi-record-serialization-services-nar/2.0.0-M2/org.apache.nifi.json.JsonPathReader/index.html">JsonPathReader</a><br/><a href="../../../nifi-record-serialization-services-nar/2.0.0-M2/org.apache.nifi.avro.AvroReader/index.html">AvroReader</a><br/><a href="../../../nifi-record-serialization-services-nar/2.0.0-M2/org.apache.nifi.cef.CEFReader/index.html">CEFReader</a><br/><a href="../../../nifi-record-serialization-services-nar/2.0.0-M2/org.apache.nifi.syslog.Syslog5424Reader/index.html">Syslog5424Reader</a><br/><a href="../../../nifi-record-serialization-services-nar/2.0.0-M2/org.apache.nifi.json.JsonTreeReader/index.html">JsonTreeReader</a><br/><a href="../../../nifi-record-serialization-services-nar/2.0.0-M2/org.apache.nifi.windowsevent.WindowsEventLogReader/index.html">WindowsEventLogReader</a><br/><a href="../../../nifi-record-serialization-services-nar/2.0.0-M2/org.apache.nifi.xml.XMLReader/index.html">XMLReader</a><br/><a href="../../../nifi-record-serialization-services-nar/2.0.0-M2/org.apache.nifi.syslog.SyslogReader/index.html">SyslogReader</a><br/><a href="../../../nifi-asn1-nar/2.0.0-M2/org.apache.nifi.jasn1.JASN1Reader/index.html">JASN1Reader</a><br/><a href="../../../nifi-record-serialization-services-nar/2.0.0-M2/org.apache.nifi.lookup.ReaderLookup/index.html">ReaderLookup</a><br/><a href="../../../nifi-parquet-nar/2.0.0-M2/org.apache.nifi.parquet.ParquetReader/index.html">ParquetReader</a><br/><a href="../../../nifi-record-serialization-services-nar/2.0.0-M2/org.apache.nifi.grok.GrokReader/index.html">GrokReader</a><br/><a href="../../../nifi-scripting-nar/2.0.0-M2/org.apache.nifi.record.script.ScriptedReader/index.html">ScriptedReader</a><br/><a href="../../../nifi-record-serialization-services-nar/2.0.0-M2/org.apache.nifi.yaml.YamlTreeReader/index.html">YamlTreeReader</a><br/><a href="../../../nifi-poi-nar/2.0.0-M2/org.apache.nifi.excel.ExcelReader/index.html">ExcelReader</a></td><td id="description">Specifies the Controller Service to use for parsing incoming data and determining the data's schema.</td></tr><tr><td id="name"><strong>Catalog Service</strong></td><td>catalog-service</td><td></td><td id="allowable-values"><strong>Controller Service API: </strong><br/>IcebergCatalogService<br/><strong>Implementations: </strong><a href="../../../nifi-iceberg-services-nar/2.0.0-M2/org.apache.nifi.services.iceberg.HiveCatalogService/index.html">HiveCatalogService</a><br/><a href="../../../nifi-iceberg-services-nar/2.0.0-M2/org.apache.nifi.services.iceberg.HadoopCatalogService/index.html">HadoopCatalogService</a></td><td id="description">Specifies the Controller Service to use for handling references to tableâ€™s metadata files.</td></tr><tr><td id="name"><strong>Catalog Namespace</strong></td><td>catalog-namespace</td><td></td><td id="allowable-values"></td><td id="description">The namespace of the catalog.<br/><strong>Supports Expression Language: true (will be evaluated using flow file attributes and Environment variables)</strong></td></tr><tr><td id="name"><strong>Table Name</strong></td><td>table-name</td><td></td><td id="allowable-values"></td><td id="description">The name of the Iceberg table to write to.<br/><strong>Supports Expression Language: true (will be evaluated using flow file attributes and Environment variables)</strong></td></tr><tr><td id="name"><strong>Unmatched Column Behavior</strong></td><td>unmatched-column-behavior</td><td id="default-value">Fail on Unmatched Columns</td><td id="allowable-values"><ul><li>Ignore Unmatched Columns <img src="../../../../../html/images/iconInfo.png" alt="Any column in the database that does not have a field in the document will be assumed to not be required.  No notification will be logged" title="Any column in the database that does not have a field in the document will be assumed to not be required.  No notification will be logged"></img></li><li>Warn on Unmatched Columns <img src="../../../../../html/images/iconInfo.png" alt="Any column in the database that does not have a field in the document will be assumed to not be required.  A warning will be logged" title="Any column in the database that does not have a field in the document will be assumed to not be required.  A warning will be logged"></img></li><li>Fail on Unmatched Columns <img src="../../../../../html/images/iconInfo.png" alt="A flow will fail if any column in the database that does not have a field in the document.  An error will be logged" title="A flow will fail if any column in the database that does not have a field in the document.  An error will be logged"></img></li></ul></td><td id="description">If an incoming record does not have a field mapping for all of the database table's columns, this property specifies how to handle the situation.</td></tr><tr><td id="name">File Format</td><td>file-format</td><td></td><td id="allowable-values"><ul><li>AVRO</li><li>PARQUET</li><li>ORC</li></ul></td><td id="description">File format to use when writing Iceberg data files. If not set, then the 'write.format.default' table property will be used, default value is parquet.</td></tr><tr><td id="name">Maximum File Size</td><td>maximum-file-size</td><td></td><td id="allowable-values"></td><td id="description">The maximum size that a file can be, if the file size is exceeded a new file will be generated with the remaining data. If not set, then the 'write.target-file-size-bytes' table property will be used, default value is 512 MB.<br/><strong>Supports Expression Language: true (will be evaluated using flow file attributes and Environment variables)</strong></td></tr><tr><td id="name">Kerberos User Service</td><td>kerberos-user-service</td><td></td><td id="allowable-values"><strong>Controller Service API: </strong><br/>KerberosUserService<br/><strong>Implementations: </strong><a href="../../../nifi-kerberos-user-service-nar/2.0.0-M2/org.apache.nifi.kerberos.KerberosPasswordUserService/index.html">KerberosPasswordUserService</a><br/><a href="../../../nifi-kerberos-user-service-nar/2.0.0-M2/org.apache.nifi.kerberos.KerberosKeytabUserService/index.html">KerberosKeytabUserService</a><br/><a href="../../../nifi-kerberos-user-service-nar/2.0.0-M2/org.apache.nifi.kerberos.KerberosTicketCacheUserService/index.html">KerberosTicketCacheUserService</a></td><td id="description">Specifies the Kerberos User Controller Service that should be used for authenticating with Kerberos.</td></tr><tr><td id="name"><strong>Number of Commit Retries</strong></td><td>number-of-commit-retries</td><td id="default-value">10</td><td id="allowable-values"></td><td id="description">Number of times to retry a commit before failing.<br/><strong>Supports Expression Language: true (will be evaluated using flow file attributes and Environment variables)</strong></td></tr><tr><td id="name"><strong>Minimum Commit Wait Time</strong></td><td>minimum-commit-wait-time</td><td id="default-value">100 ms</td><td id="allowable-values"></td><td id="description">Minimum time to wait before retrying a commit.<br/><strong>Supports Expression Language: true (will be evaluated using flow file attributes and Environment variables)</strong></td></tr><tr><td id="name"><strong>Maximum Commit Wait Time</strong></td><td>maximum-commit-wait-time</td><td id="default-value">2 sec</td><td id="allowable-values"></td><td id="description">Maximum time to wait before retrying a commit.<br/><strong>Supports Expression Language: true (will be evaluated using flow file attributes and Environment variables)</strong></td></tr><tr><td id="name"><strong>Maximum Commit Duration</strong></td><td>maximum-commit-duration</td><td id="default-value">30 sec</td><td id="allowable-values"></td><td id="description">Total retry timeout period for a commit.<br/><strong>Supports Expression Language: true (will be evaluated using flow file attributes and Environment variables)</strong></td></tr></table><h3>Dynamic Properties: </h3><p>Supports Sensitive Dynamic Properties: <strong>No</strong></p><p>Dynamic Properties allow the user to specify both the name and value of a property.<table id="dynamic-properties"><tr><th>Name</th><th>Value</th><th>Description</th></tr><tr><td id="name">A custom key to add to the snapshot summary. The value must start with 'snapshot-property.' prefix.</td><td id="value">A custom value to add to the snapshot summary.</td><td>Adds an entry with custom-key and corresponding value in the snapshot summary. The key format must be 'snapshot-property.custom-key'.<br/><strong>Supports Expression Language: true (will be evaluated using flow file attributes and Environment variables)</strong></td></tr></table></p><h3>Relationships: </h3><table id="relationships"><tr><th>Name</th><th>Description</th></tr><tr><td>failure</td><td>A FlowFile is routed to this relationship if the operation failed and retrying the operation will also fail, such as an invalid data or schema.</td></tr><tr><td>success</td><td>A FlowFile is routed to this relationship after the data ingestion was successful.</td></tr></table><h3>Reads Attributes: </h3>None specified.<h3>Writes Attributes: </h3><table id="writes-attributes"><tr><th>Name</th><th>Description</th></tr><tr><td>iceberg.record.count</td><td>The number of records in the FlowFile.</td></tr></table><h3>State management: </h3>This component does not store state.<h3>Restricted: </h3>This component is not restricted.<h3>System Resource Considerations:</h3>None specified.</body></html>