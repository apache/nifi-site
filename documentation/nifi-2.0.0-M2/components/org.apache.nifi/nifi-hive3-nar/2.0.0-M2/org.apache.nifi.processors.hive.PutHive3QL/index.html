<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"></meta><title>PutHive3QL</title><link rel="stylesheet" href="../../../../../css/component-usage.css" type="text/css"></link></head><script type="text/javascript">window.onload = function(){if(self==top) { document.getElementById('nameHeader').style.display = "inherit"; } }</script><body><h1 id="nameHeader" style="display: none;">PutHive3QL</h1><h2>Description: </h2><p>Executes a HiveQL DDL/DML command (UPDATE, INSERT, e.g.). The content of an incoming FlowFile is expected to be the HiveQL command to execute. The HiveQL command may use the ? to escape parameters. In this case, the parameters to use must exist as FlowFile attributes with the naming convention hiveql.args.N.type and hiveql.args.N.value, where N is a positive integer. The hiveql.args.N.type is expected to be a number indicating the JDBC Type. The content of the FlowFile is expected to be in UTF-8 format.</p><h3>Tags: </h3><p>sql, hive, put, database, update, insert</p><h3>Properties: </h3><p>In the list below, the names of required properties appear in <strong>bold</strong>. Any other properties (not in bold) are considered optional. The table also indicates any default values, and whether a property supports the <a href="../../../../../html/expression-language-guide.html">NiFi Expression Language</a>.</p><table id="properties"><tr><th>Display Name</th><th>API Name</th><th>Default Value</th><th>Allowable Values</th><th>Description</th></tr><tr><td id="name"><strong>Hive Database Connection Pooling Service</strong></td><td>hive3-dbcp-service</td><td></td><td id="allowable-values"><strong>Controller Service API: </strong><br/>Hive3DBCPService<br/><strong>Implementation: </strong><a href="../org.apache.nifi.dbcp.hive.Hive3ConnectionPool/index.html">Hive3ConnectionPool</a></td><td id="description">The Hive Controller Service that is used to obtain connection(s) to the Hive database</td></tr><tr><td id="name"><strong>Batch Size</strong></td><td>hive-batch-size</td><td id="default-value">100</td><td id="allowable-values"></td><td id="description">The preferred number of FlowFiles to put to the database in a single transaction</td></tr><tr><td id="name"><strong>Query timeout</strong></td><td>hive3-query-timeout</td><td id="default-value">0</td><td id="allowable-values"></td><td id="description">Sets the number of seconds the driver will wait for a query to execute. A value of 0 means no timeout. NOTE: Non-zero values may not be supported by the driver.<br/><strong>Supports Expression Language: true (will be evaluated using flow file attributes and Environment variables)</strong></td></tr><tr><td id="name"><strong>Character Set</strong></td><td>hive3-charset</td><td id="default-value">UTF-8</td><td id="allowable-values"></td><td id="description">Specifies the character set of the record data.</td></tr><tr><td id="name"><strong>Statement Delimiter</strong></td><td>statement-delimiter</td><td id="default-value">;</td><td id="allowable-values"></td><td id="description">Statement Delimiter used to separate SQL statements in a multiple statement script</td></tr><tr><td id="name"><strong>Rollback On Failure</strong></td><td>rollback-on-failure</td><td id="default-value">false</td><td id="allowable-values"><ul><li>true</li><li>false</li></ul></td><td id="description">Specify how to handle error. By default (false), if an error occurs while processing a FlowFile, the FlowFile will be routed to 'failure' or 'retry' relationship based on error type, and processor can continue with next FlowFile. Instead, you may want to rollback currently processed FlowFiles and stop further processing immediately. In that case, you can do so by enabling this 'Rollback On Failure' property.  If enabled, failed FlowFiles will stay in the input relationship without penalizing it and being processed repeatedly until it gets processed successfully or removed by other means. It is important to set adequate 'Yield Duration' to avoid retrying too frequently.</td></tr></table><h3>Relationships: </h3><table id="relationships"><tr><th>Name</th><th>Description</th></tr><tr><td>retry</td><td>A FlowFile is routed to this relationship if the database cannot be updated but attempting the operation again may succeed</td></tr><tr><td>success</td><td>A FlowFile is routed to this relationship after the database is successfully updated</td></tr><tr><td>failure</td><td>A FlowFile is routed to this relationship if the database cannot be updated and retrying the operation will also fail, such as an invalid query or an integrity constraint violation</td></tr></table><h3>Reads Attributes: </h3><table id="reads-attributes"><tr><th>Name</th><th>Description</th></tr><tr><td>hiveql.args.N.type</td><td>Incoming FlowFiles are expected to be parametrized HiveQL statements. The type of each Parameter is specified as an integer that represents the JDBC Type of the parameter.</td></tr><tr><td>hiveql.args.N.value</td><td>Incoming FlowFiles are expected to be parametrized HiveQL statements. The value of the Parameters are specified as hiveql.args.1.value, hiveql.args.2.value, hiveql.args.3.value, and so on. The type of the hiveql.args.1.value Parameter is specified by the hiveql.args.1.type attribute.</td></tr></table><h3>Writes Attributes: </h3><table id="writes-attributes"><tr><th>Name</th><th>Description</th></tr><tr><td>query.input.tables</td><td>This attribute is written on the flow files routed to the 'success' relationships, and contains input table names (if any) in comma delimited 'databaseName.tableName' format.</td></tr><tr><td>query.output.tables</td><td>This attribute is written on the flow files routed to the 'success' relationships, and contains the target table names in 'databaseName.tableName' format.</td></tr></table><h3>State management: </h3>This component does not store state.<h3>Restricted: </h3>This component is not restricted.<h3>Input requirement: </h3>This component requires an incoming relationship.<h3>System Resource Considerations:</h3>None specified.<h3>See Also:</h3><p><a href="../org.apache.nifi.processors.hive.SelectHive3QL/index.html">SelectHive3QL</a></p></body></html>